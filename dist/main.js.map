{"version":3,"file":"main.js","sources":["../lib/CborldError.js","../lib/codecs/CborldDecoder.js","../lib/codecs/registeredContexts.js","../lib/codecs/ContextDecoder.js","../lib/codecs/MultibaseDecoder.js","../lib/keywords.js","../lib/Transformer.js","../lib/codecs/Base58DidUrlDecoder.js","../lib/codecs/HttpUrlDecoder.js","../lib/codecs/UuidUrnDecoder.js","../lib/codecs/UriDecoder.js","../lib/codecs/VocabTermDecoder.js","../lib/codecs/XsdDateDecoder.js","../lib/codecs/XsdDateTimeDecoder.js","../lib/Decompressor.js","../lib/decode.js","../lib/codecs/CborldEncoder.js","../lib/codecs/ContextEncoder.js","../lib/codecs/MultibaseEncoder.js","../lib/codecs/Base58DidUrlEncoder.js","../lib/codecs/HttpUrlEncoder.js","../lib/codecs/UuidUrnEncoder.js","../lib/codecs/UriEncoder.js","../lib/codecs/VocabTermEncoder.js","../lib/codecs/XsdDateEncoder.js","../lib/codecs/XsdDateTimeEncoder.js","../lib/Compressor.js","../lib/encode.js"],"sourcesContent":["/*!\n * Copyright (c) 2020 Digital Bazaar, Inc. All rights reserved.\n */\nexport class CborldError extends Error {\n  constructor(value, message) {\n    super();\n    this.message = message;\n    this.value = value;\n    this.stack = (new Error(`${value}: ${message}`)).stack;\n    this.name = this.constructor.name;\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nexport class CborldDecoder {\n  // eslint-disable-next-line no-unused-vars\n  decode({value} = {}) {\n    throw new Error('Must be implemented by derived class.');\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  static createDecoder({value, transformer} = {}) {\n    throw new Error('Must be implemented by derived class.');\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\n// known CBOR-LD registry values\nexport const ID_TO_URL = new Map();\nexport const URL_TO_ID = new Map();\n\n/**\n * @see https://digitalbazaar.github.io/cbor-ld-spec/#term-codec-registry\n */\n_addRegistration(0x10, 'https://www.w3.org/ns/activitystreams');\n_addRegistration(0x11, 'https://www.w3.org/2018/credentials/v1');\n_addRegistration(0x12, 'https://www.w3.org/ns/did/v1');\n_addRegistration(0x13, 'https://w3id.org/security/suites/ed25519-2018/v1');\n_addRegistration(0x14, 'https://w3id.org/security/suites/ed25519-2020/v1');\n_addRegistration(0x15, 'https://w3id.org/cit/v1');\n_addRegistration(0x16, 'https://w3id.org/age/v1');\n_addRegistration(0x17, 'https://w3id.org/security/suites/x25519-2020/v1');\n_addRegistration(0x18, 'https://w3id.org/veres-one/v1');\n_addRegistration(0x19, 'https://w3id.org/webkms/v1');\n_addRegistration(0x1A, 'https://w3id.org/zcap/v1');\n_addRegistration(0x1B, 'https://w3id.org/security/suites/hmac-2019/v1');\n_addRegistration(0x1C, 'https://w3id.org/security/suites/aes-2019/v1');\n_addRegistration(0x1D, 'https://w3id.org/vaccination/v1');\n_addRegistration(0x1E, 'https://w3id.org/vc-revocation-list-2020/v1');\n_addRegistration(0x1F, 'https://w3id.org/dcc/v1c');\n_addRegistration(0x20, 'https://w3id.org/vc/status-list/v1');\n\nfunction _addRegistration(id, url) {\n  URL_TO_ID.set(url, id);\n  ID_TO_URL.set(id, url);\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldDecoder} from './CborldDecoder.js';\nimport {CborldError} from '../CborldError.js';\nimport {ID_TO_URL} from './registeredContexts.js';\n\nexport class ContextDecoder extends CborldDecoder {\n  constructor({reverseAppContextMap} = {}) {\n    super();\n    this.reverseAppContextMap = reverseAppContextMap;\n  }\n\n  decode({value} = {}) {\n    // handle uncompressed context\n    if(typeof value !== 'number') {\n      return _mapToObject(value);\n    }\n\n    // handle compressed context\n    const url = ID_TO_URL.get(value) || this.reverseAppContextMap.get(value);\n    if(url === undefined) {\n      throw new CborldError(\n        'ERR_UNDEFINED_COMPRESSED_CONTEXT',\n        `Undefined compressed context \"${value}\".`);\n    }\n    return url;\n  }\n\n  static createDecoder({transformer} = {}) {\n    const {reverseAppContextMap} = transformer;\n    return new ContextDecoder({reverseAppContextMap});\n  }\n}\n\nfunction _mapToObject(map) {\n  if(Array.isArray(map)) {\n    return map.map(_mapToObject);\n  }\n  if(!(map instanceof Map)) {\n    return map;\n  }\n\n  const obj = {};\n  for(const [key, value] of map) {\n    obj[key] = _mapToObject(value);\n  }\n  return obj;\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldDecoder} from './CborldDecoder.js';\nimport {Base64} from 'js-base64';\nimport {encode as encodeBase58} from 'base58-universal';\n\n// this class is used to encode a multibase encoded value in CBOR-LD, which\n// actually means transforming bytes to a multibase-encoded string\nexport class MultibaseDecoder extends CborldDecoder {\n  decode({value} = {}) {\n    const {buffer, byteOffset, length} = value;\n    const suffix = new Uint8Array(buffer, byteOffset + 1, length - 1);\n    if(value[0] === 0x7a) {\n      // 0x7a === 'z' (multibase code for base58btc)\n      return `z${encodeBase58(suffix)}`;\n    }\n    if(value[0] === 0x4d) {\n      // 0x4d === 'M' (multibase code for base64pad)\n      return `M${Base64.fromUint8Array(suffix)}`;\n    }\n    return value;\n  }\n\n  static createDecoder({value} = {}) {\n    if(!(value instanceof Uint8Array)) {\n      return false;\n    }\n    // supported multibase encodings:\n    // 0x7a === 'z' (multibase code for base58btc)\n    // 0x4d === 'M' (multibase code for base64pad)\n    if(value[0] === 0x7a || value[0] === 0x4d) {\n      return new MultibaseDecoder();\n    }\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nexport const KEYWORDS = new Map([\n  // ordered is important, do not change\n  ['@context', 0],\n  ['@type', 2],\n  ['@id', 4],\n  ['@value', 6],\n  // alphabetized after `@context`, `@type`, `@id`, `@value`\n  // IDs <= 24 represented with 1 byte, IDs > 24 use 2+ bytes\n  ['@direction', 8],\n  ['@graph', 10],\n  ['@included', 12],\n  ['@index', 14],\n  ['@json', 16],\n  ['@language', 18],\n  ['@list', 20],\n  ['@nest', 22],\n  ['@reverse', 24],\n  // TODO: remove these? these only appear in frames and contexts\n  ['@base', 26],\n  ['@container', 28],\n  ['@default', 30],\n  ['@embed', 32],\n  ['@explicit', 34],\n  ['@none', 36],\n  ['@omitDefault', 38],\n  ['@prefix', 40],\n  ['@preserve', 42],\n  ['@protected', 44],\n  ['@requireAll', 46],\n  ['@set', 48],\n  ['@version', 50],\n  ['@vocab', 52]\n]);\nexport const FIRST_CUSTOM_TERM_ID = 100;\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldError} from './CborldError.js';\nimport {KEYWORDS} from './keywords.js';\n\nconst MAX_CONTEXT_URLS = 10;\n\nexport class Transformer {\n  /**\n   * Creates a new Transformer for transforming CBOR-LD <=> JSON-LD.\n   *\n   * @param {object} options - The options to use when encoding to CBOR-LD.\n   * @param {documentLoaderFunction} options.documentLoader -The document\n   *   loader to use when resolving JSON-LD Context URLs.\n   * @param {Map} [options.appContextMap] - A map of JSON-LD Context URLs and\n   *   their encoded CBOR-LD values (must be values greater than 32767\n   *   (0x7FFF)).\n   * @param {boolean} [options.compressionModeUndefinedTermAllowed] - Allow the\n   *   JSON-LD document to contain terms that are not defined in the context.\n   *   The original values of the undefined terms will be preserved during\n   *   compression. Defaults to `false`, every key that does not have a defined\n   *   term will raise an error.\n   */\n  constructor({appContextMap, documentLoader,\n    compressionModeUndefinedTermAllowed} = {}) {\n    this.appContextMap = appContextMap;\n    this.documentLoader = documentLoader;\n    this.compressionModeUndefinedTermAllowed =\n      compressionModeUndefinedTermAllowed;\n  }\n\n  // default no-op hook functions\n  _beforeObjectContexts() {}\n  _afterObjectContexts() {}\n  _beforeTypeScopedContexts() {}\n\n  async _transform({obj, transformMap, contextStack = []}) {\n    // hook before object contexts are applied\n    this._beforeObjectContexts({obj, transformMap});\n\n    // apply embedded contexts in the object\n    let activeCtx = await this._applyEmbeddedContexts({obj, contextStack});\n\n    // hook after object contexts are applied\n    this._afterObjectContexts({obj, transformMap});\n\n    // TODO: support `@propagate: true` on type-scoped contexts; until then\n    // throw an error if it is set\n\n    // preserve context stack before applying type-scoped contexts\n    const childContextStack = contextStack.slice();\n\n    // hook before type-scoped contexts are applied\n    this._beforeTypeScopedContexts({activeCtx, obj, transformMap});\n\n    // apply type-scoped contexts\n    activeCtx = await this._applyTypeScopedContexts({obj, contextStack});\n\n    // walk term entries to transform\n    const {aliases, scopedContextMap, termMap} = activeCtx;\n    const termEntries = this._getEntries(\n      {obj, transformMap, transformer: this, termMap});\n    for(const [termInfo, value] of termEntries) {\n      const {term} = termInfo;\n\n      // transform `@id`\n      if(term === '@id' || aliases.id.has(term)) {\n        this._transformObjectId({obj, transformMap, termInfo, value});\n        continue;\n      }\n\n      // transform `@type`\n      if(term === '@type' || aliases.type.has(term)) {\n        this._transformObjectType({obj, transformMap, termInfo, value});\n        continue;\n      }\n\n      // use `childContextStack` when processing properties as it will remove\n      // type-scoped contexts unless a property-scoped context is applied\n      let propertyContextStack = childContextStack;\n\n      // apply any property-scoped context\n      let newActiveCtx;\n      const propertyScopedContext = scopedContextMap.get(term);\n      if(propertyScopedContext) {\n        // TODO: support `@propagate: false` on property-scoped contexts; until\n        // then throw an error if it is set\n        newActiveCtx = await this._applyEmbeddedContexts({\n          obj: {'@context': propertyScopedContext},\n          contextStack\n        });\n        propertyContextStack = contextStack.slice();\n      }\n\n      // iterate through all values for the current transform entry\n      const {plural, def} = termInfo;\n      const termType = this._getTermType(\n        {activeCtx: newActiveCtx || activeCtx, def});\n      const values = plural ? value : [value];\n      const entries = [];\n      for(const value of values) {\n        // `null` is never transformed\n        if(value === null) {\n          entries.push(null);\n          continue;\n        }\n\n        // try to transform typed value\n        if(this._transformTypedValue({entries, termType, value, termInfo})) {\n          continue;\n        }\n\n        if(typeof value !== 'object') {\n          // value not transformed and cannot recurse, so do not transform\n          entries.push(value);\n          continue;\n        }\n\n        // transform array\n        if(Array.isArray(value)) {\n          await this._transformArray(\n            {entries, contextStack: propertyContextStack, value});\n          continue;\n        }\n\n        // transform object\n        await this._transformObject({\n          entries, contextStack: propertyContextStack, value});\n      }\n\n      // revert property-scoped active context if one was created\n      if(newActiveCtx) {\n        newActiveCtx.revert();\n      }\n\n      this._assignEntries({entries, obj, transformMap, termInfo});\n    }\n\n    // revert active context for this object\n    activeCtx.revert();\n  }\n\n  /**\n   * Apply the embedded contexts in the given object to produce an\n   * active context.\n   *\n   * @param {object} options - The options to use.\n   * @param {object} options.obj - The object to get the active context for.\n   * @param {Array} [options.contextStack] - The stack of active contexts.\n   *\n   * @returns {Promise<object>} - The active context instance.\n   */\n  async _applyEmbeddedContexts({obj, contextStack}) {\n    const stackTop = contextStack.length;\n\n    // push any local embedded contexts onto the context stack\n    const localContexts = obj['@context'];\n    await this._updateContextStack({contextStack, contexts: localContexts});\n\n    // get `id` and `type` aliases for the active context\n    let active = contextStack[contextStack.length - 1];\n    if(!active) {\n      // empty initial context\n      active = {\n        aliases: {\n          id: new Set(),\n          type: new Set()\n        },\n        context: {},\n        scopedContextMap: new Map(),\n        termMap: new Map()\n      };\n    }\n\n    return {\n      ...active,\n      revert() {\n        contextStack.length = stackTop;\n      }\n    };\n  }\n\n  async _applyTypeScopedContexts({obj, contextStack}) {\n    const stackTop = contextStack.length;\n\n    // get `id` and `type` aliases for the active context\n    let active = contextStack[contextStack.length - 1];\n    if(!active) {\n      // empty initial context\n      active = {\n        aliases: {\n          id: new Set(),\n          type: new Set()\n        },\n        context: {},\n        scopedContextMap: new Map(),\n        termMap: new Map()\n      };\n    }\n    const {aliases} = active;\n\n    // get unique object type(s)\n    let totalTypes = [];\n    const typeTerms = ['@type', ...aliases.type];\n    for(const term of typeTerms) {\n      const types = obj[term];\n      if(Array.isArray(types)) {\n        totalTypes.push(...types);\n      } else {\n        totalTypes.push(types);\n      }\n    }\n    // apply types in lexicographically sorted order (per JSON-LD spec)\n    totalTypes = [...new Set(totalTypes)].sort();\n\n    // apply any type-scoped contexts\n    let {scopedContextMap} = active;\n    for(const type of totalTypes) {\n      const contexts = scopedContextMap.get(type);\n      if(contexts) {\n        await this._updateContextStack({contextStack, contexts});\n        active = contextStack[contextStack.length - 1];\n        ({scopedContextMap} = active);\n      }\n    }\n\n    return {\n      ...active,\n      revert() {\n        contextStack.length = stackTop;\n      }\n    };\n  }\n\n  async _updateContextStack({contextStack, contexts, transformer,\n    cycles = new Set()}) {\n    // push any localized contexts onto the context stack\n    if(!contexts) {\n      return;\n    }\n    if(!Array.isArray(contexts)) {\n      contexts = [contexts];\n    }\n\n    const {contextMap} = this;\n    for(const context of contexts) {\n      let entry = contextMap.get(context);\n      if(!entry) {\n        let ctx = context;\n        let contextUrl;\n        if(typeof context === 'string') {\n          // check for context URL cycle\n          if(cycles.has(context)) {\n            throw new CborldError(\n              'ERR_CYCLICAL_CONTEXT_URL',\n              `Cyclical @context URL '${context}' was detected.`);\n          }\n\n          // check for max context URLs fetched during a resolve operation\n          if(cycles.size > MAX_CONTEXT_URLS) {\n            throw new CborldError(\n              'ERR_EXCEEDED_MAX_CONTEXT_URLS',\n              'Maximum number of @context URLs exceeded.');\n          }\n\n          // fetch context\n          contextUrl = context;\n          ({'@context': ctx} = await this._getDocument({url: contextUrl}));\n        }\n\n        // support parsing context lists recursively. only top-level @context or\n        // or remote context can be an array based on the JSON-LD spec.\n        if(Array.isArray(ctx) || typeof ctx === 'string') {\n\n          // track cycles\n          const branch = new Set(cycles.values());\n          branch.add(context);\n\n          await this._updateContextStack({\n            contextStack,\n            contexts: ctx,\n            cycles: branch\n          });\n          continue;\n        }\n\n        // FIXME: validate `ctx` to ensure its a valid JSON-LD context value\n        // add context\n        entry = await this._addContext({context: ctx, contextUrl, transformer});\n      }\n\n      // clone entry to create new active context entry for context stack\n      const newActive = {\n        aliases: {\n          id: new Set(entry.aliases.id),\n          type: new Set(entry.aliases.type)\n        },\n        context,\n        scopedContextMap: new Map(entry.scopedContextMap),\n        termMap: new Map(entry.termMap)\n      };\n\n      // push new active context and get old one\n      const oldActive = contextStack[contextStack.length - 1];\n      contextStack.push(newActive);\n      if(!oldActive) {\n        continue;\n      }\n\n      // compute `id` and `type` aliases by including any previous aliases that\n      // have not been replaced by the new context\n      const {aliases, termMap} = newActive;\n      for(const key of ['id', 'type']) {\n        for(const alias of oldActive.aliases[key]) {\n          if(!(context[alias] === null || newActive.termMap.has(alias))) {\n            aliases[key].add(alias);\n          }\n        }\n      }\n\n      // compute scoped context map by including any scoped contexts that have\n      // not been replaced by the new context\n      const {scopedContextMap} = newActive;\n      for(const [key, value] of oldActive.scopedContextMap) {\n        if(!(context[key] === null || scopedContextMap.has(key))) {\n          scopedContextMap.set(key, value);\n        }\n      }\n\n      // compute new terms map\n      for(const [key, value] of oldActive.termMap) {\n        if(!(context[key] === null || termMap.has(key))) {\n          termMap.set(key, value);\n        }\n      }\n    }\n  }\n\n  async _addContext({context, contextUrl}) {\n    const {contextMap, termToId, idToTerm} = this;\n\n    // handle `@import`\n    const importUrl = context['@import'];\n    if(importUrl) {\n      let importEntry = contextMap.get(importUrl);\n      if(!importEntry) {\n        const {'@context': importCtx} = await this._getDocument(\n          {url: importUrl});\n        importEntry = await this._addContext(\n          {context: importCtx, contextUrl: importUrl});\n      }\n      context = {...importEntry.context, ...context};\n    }\n\n    // precompute any `@id` and `@type` aliases, scoped contexts, and terms\n    const scopedContextMap = new Map();\n    const termMap = new Map();\n    const entry = {\n      aliases: {id: new Set(), type: new Set()},\n      context,\n      scopedContextMap,\n      termMap\n    };\n\n    // process context keys in sorted order to ensure term IDs are assigned\n    // consistently\n    const keys = Object.keys(context).sort();\n    for(const key of keys) {\n      const def = context[key];\n      if(!def) {\n        continue;\n      }\n      if(def === '@id' || def.id === '@id') {\n        entry.aliases.id.add(key);\n      } else if(def === '@type' || def.id === '@type') {\n        entry.aliases.type.add(key);\n      }\n      if(KEYWORDS.has(key)) {\n        // skip keywords\n        continue;\n      }\n      // ensure the term has been assigned an ID\n      if(!termToId.has(key)) {\n        const id = this.nextTermId;\n        this.nextTermId += 2;\n        termToId.set(key, id);\n        if(idToTerm) {\n          idToTerm.set(id, key);\n        }\n      }\n      termMap.set(key, def);\n      const scopedContext = def['@context'];\n      if(scopedContext) {\n        scopedContextMap.set(key, scopedContext);\n      }\n    }\n\n    // add entry for context URL or context object\n    contextMap.set(contextUrl || context, entry);\n\n    return entry;\n  }\n\n  async _getDocument({url}) {\n    const {document} = await this.documentLoader(url);\n    if(typeof document === 'string') {\n      return JSON.parse(document);\n    }\n    return document;\n  }\n\n  _getTermType({activeCtx, def}) {\n    const {'@type': type} = def || {};\n    if(!type) {\n      // no term type\n      return;\n    }\n\n    // check for potential CURIE value\n    const [prefix, ...suffix] = type.split(':');\n    const prefixDef = activeCtx.termMap.get(prefix);\n    if(prefixDef === undefined) {\n      // no CURIE\n      return type;\n    }\n\n    // handle CURIE\n    if(typeof prefixDef === 'string') {\n      return prefixDef + suffix.join(':');\n    }\n\n    // prefix definition must be an object\n    if(!(typeof prefixDef === 'object' &&\n      typeof prefixDef['@id'] === 'string')) {\n      throw new CborldError(\n        'ERR_INVALID_TERM_DEFINITION',\n        'JSON-LD term definitions must be strings or objects with \"@id\".');\n    }\n    return prefixDef['@id'] + suffix.join(':');\n  }\n\n  _getIdForTerm({term, plural}) {\n    const id = this.termToId.get(term);\n    if(id === undefined) {\n      // preserve the original term key if undefined terms are allowed\n      if(this.compressionModeUndefinedTermAllowed) {\n        return term;\n      }\n      throw new CborldError(\n        'ERR_UNDEFINED_TERM',\n        'CBOR-LD compression requires all terms to be defined in a JSON-LD ' +\n        'context.');\n    }\n    return plural ? id + 1 : id;\n  }\n\n  _getTermForId({id}) {\n    const plural = (id & 1) === 1;\n    const term = this.idToTerm.get(plural ? id - 1 : id);\n    return {term, plural};\n  }\n}\n\n/**\n * Fetches a resource given a URL and returns it as a string.\n *\n * @callback documentLoaderFunction\n * @param {string} url - The URL to retrieve.\n *\n * @returns {string} The resource associated with the URL as a string.\n */\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldDecoder} from './CborldDecoder.js';\nimport {encode as encodeBase58} from 'base58-universal';\n\nconst ID_TO_SCHEME = new Map([\n  // Note: only v1 mainnet is supported\n  [1024, 'did:v1:nym:'],\n  [1025, 'did:key:']\n]);\n\nexport class Base58DidUrlDecoder extends CborldDecoder {\n  decode({value} = {}) {\n    let url = ID_TO_SCHEME.get(value[0]);\n    if(typeof value[1] === 'string') {\n      url += value[1];\n    } else {\n      url += `z${encodeBase58(value[1])}`;\n    }\n    if(value.length > 2) {\n      if(typeof value[2] === 'string') {\n        url += `#${value[2]}`;\n      } else {\n        url += `#z${encodeBase58(value[2])}`;\n      }\n    }\n    return url;\n  }\n\n  static createDecoder({value} = {}) {\n    if(!(Array.isArray(value) && value.length > 1 && value.length <= 3)) {\n      return false;\n    }\n    if(!ID_TO_SCHEME.has(value[0])) {\n      return false;\n    }\n    return new Base58DidUrlDecoder();\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldDecoder} from './CborldDecoder.js';\n\nexport class HttpUrlDecoder extends CborldDecoder {\n  constructor({secure} = {}) {\n    super();\n    this.secure = secure;\n  }\n\n  decode({value} = {}) {\n    const scheme = this.secure ? 'https://' : 'http://';\n    return `${scheme}${value[1]}`;\n  }\n\n  static createDecoder({value} = {}) {\n    if(!(value.length === 2 && typeof value[1] === 'string')) {\n      return false;\n    }\n    return new HttpUrlDecoder({secure: value[0] === 2});\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldDecoder} from './CborldDecoder.js';\nimport {stringify} from 'uuid';\n\nexport class UuidUrnDecoder extends CborldDecoder {\n  decode({value} = {}) {\n    const uuid = typeof value[1] === 'string' ?\n      value[1] : stringify(value[1]);\n    return `urn:uuid:${uuid}`;\n  }\n\n  static createDecoder({value} = {}) {\n    if(value.length === 2 &&\n      (typeof value[1] === 'string' || value[1] instanceof Uint8Array)) {\n      return new UuidUrnDecoder();\n    }\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldDecoder} from './CborldDecoder.js';\nimport {Base58DidUrlDecoder} from './Base58DidUrlDecoder.js';\nimport {HttpUrlDecoder} from './HttpUrlDecoder.js';\nimport {UuidUrnDecoder} from './UuidUrnDecoder.js';\n\nconst SCHEME_ID_TO_DECODER = new Map([\n  [1, HttpUrlDecoder],\n  [2, HttpUrlDecoder],\n  [3, UuidUrnDecoder],\n  [1024, Base58DidUrlDecoder],\n  [1025, Base58DidUrlDecoder]\n]);\n\nexport class UriDecoder extends CborldDecoder {\n  static createDecoder({value} = {}) {\n    if(!(Array.isArray(value) || value.length > 1)) {\n      return false;\n    }\n\n    const DecoderClass = SCHEME_ID_TO_DECODER.get(value[0]);\n    return DecoderClass && DecoderClass.createDecoder({value});\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldDecoder} from './CborldDecoder.js';\nimport {UriDecoder} from './UriDecoder.js';\n\nexport class VocabTermDecoder extends CborldDecoder {\n  constructor({term} = {}) {\n    super();\n    this.term = term;\n  }\n\n  decode() {\n    return this.term;\n  }\n\n  static createDecoder({value, transformer} = {}) {\n    if(Array.isArray(value)) {\n      return UriDecoder.createDecoder({value, transformer});\n    }\n    const term = transformer.idToTerm.get(value);\n    if(term !== undefined) {\n      return new VocabTermDecoder({term});\n    }\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldDecoder} from './CborldDecoder.js';\n\nexport class XsdDateDecoder extends CborldDecoder {\n  decode({value} = {}) {\n    const dateString = new Date(value * 1000).toISOString();\n    return dateString.substring(0, dateString.indexOf('T'));\n  }\n\n  static createDecoder({value} = {}) {\n    if(typeof value === 'number') {\n      return new XsdDateDecoder();\n    }\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldDecoder} from './CborldDecoder.js';\n\nexport class XsdDateTimeDecoder extends CborldDecoder {\n  constructor({value} = {}) {\n    super();\n    this.value = value;\n  }\n\n  decode({value} = {}) {\n    if(typeof value === 'number') {\n      return new Date(value * 1000).toISOString().replace('.000Z', 'Z');\n    }\n    return new Date(value[0] * 1000 + value[1]).toISOString();\n  }\n\n  static createDecoder({value} = {}) {\n    if(typeof value === 'number') {\n      return new XsdDateTimeDecoder();\n    }\n    if(Array.isArray(value) && value.length === 2 &&\n      (typeof value[0] === 'number' || typeof value[1] === 'number')) {\n      return new XsdDateTimeDecoder();\n    }\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport * as cborg from 'cborg';\nimport {CborldError} from './CborldError.js';\nimport {ContextDecoder} from './codecs/ContextDecoder.js';\nimport {MultibaseDecoder} from './codecs/MultibaseDecoder.js';\nimport {Transformer} from './Transformer.js';\nimport {UriDecoder} from './codecs/UriDecoder.js';\nimport {VocabTermDecoder} from './codecs/VocabTermDecoder.js';\nimport {XsdDateDecoder} from './codecs/XsdDateDecoder.js';\nimport {XsdDateTimeDecoder} from './codecs/XsdDateTimeDecoder.js';\nimport {inspect} from './util.js';\nimport {FIRST_CUSTOM_TERM_ID, KEYWORDS} from './keywords.js';\n\nexport const TYPE_DECODERS = new Map([\n  ['@id', UriDecoder],\n  ['@vocab', VocabTermDecoder],\n  ['https://w3id.org/security#multibase', MultibaseDecoder],\n  ['http://www.w3.org/2001/XMLSchema#date', XsdDateDecoder],\n  ['http://www.w3.org/2001/XMLSchema#dateTime', XsdDateTimeDecoder]\n]);\n\nconst CONTEXT_TERM_ID = KEYWORDS.get('@context');\nconst CONTEXT_TERM_ID_PLURAL = CONTEXT_TERM_ID + 1;\n\nexport class Decompressor extends Transformer {\n  /**\n   * Creates a new Decompressor for generating a JSON-LD document from\n   * compressed CBOR-LD. The created instance may only be used on a single\n   * CBOR-LD input at a time.\n   *\n   * @param {object} options - The options to use when encoding to CBOR-LD.\n   * @param {documentLoaderFunction} options.documentLoader - The document\n   *   loader to use when resolving JSON-LD Context URLs.\n   * @param {Map} [options.appContextMap] - A map of JSON-LD Context URLs and\n   *   their encoded CBOR-LD values (must be values greater than 32767\n   *   (0x7FFF)).\n   * @param {boolean} [options.compressionModeUndefinedTermAllowed] - Allow the\n   *   JSON-LD document to contain terms that are not defined in the context.\n   *   The original values of terms that cannot be resolved from the context map\n   *   will be preserved. Defaults to `false`, every key that does not have a\n   *   defined term will raise an error.\n   */\n  constructor({documentLoader, appContextMap,\n    compressionModeUndefinedTermAllowed} = {}) {\n    super({documentLoader, appContextMap, compressionModeUndefinedTermAllowed});\n    this.reverseAppContextMap = new Map();\n    // build reverse contxt map\n    if(appContextMap) {\n      for(const [k, v] of appContextMap) {\n        this.reverseAppContextMap.set(v, k);\n      }\n    }\n  }\n\n  /**\n   * Decompresses the given CBOR-LD byte array to a JSON-LD document.\n   *\n   * @param {object} options - The options to use.\n   * @param {Uint8Array} options.compressedBytes - The CBOR-LD compressed\n   *   bytes that follow the compressed CBOR-LD CBOR tag.\n   * @param {diagnosticFunction} [options.diagnose] - A function that, if\n   *   provided, is called with diagnostic information.\n   *\n   * @returns {Promise<object>} - The JSON-LD document.\n   */\n  async decompress({compressedBytes, diagnose} = {}) {\n    this.contextMap = new Map();\n    this.termToId = new Map(KEYWORDS);\n    this.nextTermId = FIRST_CUSTOM_TERM_ID;\n    this.idToTerm = new Map();\n    for(const [term, id] of this.termToId) {\n      this.idToTerm.set(id, term);\n    }\n\n    // decoded output could be one or more transform maps\n    const transformMap = cborg.decode(compressedBytes, {useMaps: true});\n    if(diagnose) {\n      diagnose('Diagnostic CBOR-LD decompression transform map(s):');\n      diagnose(inspect(transformMap, {depth: null, colors: true}));\n    }\n\n    // handle single or multiple JSON-LD docs\n    const results = [];\n    const isArray = Array.isArray(transformMap);\n    const transformMaps = isArray ? transformMap : [transformMap];\n    for(const transformMap of transformMaps) {\n      const obj = {};\n      await this._transform({obj, transformMap});\n      results.push(obj);\n    }\n    return isArray ? results : results[0];\n  }\n\n  _beforeObjectContexts({obj, transformMap}) {\n    // decode `@context` for `transformMap`, if any\n    const encodedContext = transformMap.get(CONTEXT_TERM_ID);\n    if(encodedContext) {\n      const decoder = ContextDecoder.createDecoder(\n        {value: encodedContext, transformer: this});\n      obj['@context'] = decoder ?\n        decoder.decode({value: encodedContext}) : encodedContext;\n    }\n    const encodedContexts = transformMap.get(CONTEXT_TERM_ID_PLURAL);\n    if(encodedContexts) {\n      if(encodedContext) {\n        // can't use *both* the singular and plural context term ID\n        throw new CborldError(\n          'ERR_INVALID_ENCODED_CONTEXT',\n          'Both singular and plural context IDs were found in the ' +\n          'CBOR-LD input.');\n      }\n      if(!Array.isArray(encodedContexts)) {\n        // `encodedContexts` must be an array\n        throw new CborldError(\n          'ERR_INVALID_ENCODED_CONTEXT',\n          'Encoded plural context value must be an array.');\n      }\n      const entries = [];\n      for(const value of encodedContexts) {\n        const decoder = ContextDecoder.createDecoder(\n          {value, transformer: this});\n        entries.push(decoder ? decoder.decode({value}) : value);\n      }\n      obj['@context'] = entries;\n    }\n  }\n\n  _beforeTypeScopedContexts({activeCtx, obj, transformMap}) {\n    // decode object types\n    const {termToId} = this;\n    const typeTerms = ['@type', ...activeCtx.aliases.type];\n    for(const term of typeTerms) {\n      // check both singular and plural term IDs\n      const termId = termToId.get(term);\n      let value = transformMap.get(termId);\n      if(value === undefined) {\n        value = transformMap.get(termId + 1);\n      }\n      if(value !== undefined) {\n        if(Array.isArray(value)) {\n          obj[term] = value.map(value => {\n            const decoder = VocabTermDecoder.createDecoder(\n              {value, transformer: this});\n            return decoder ? decoder.decode({value}) : value;\n          });\n        } else {\n          const decoder = VocabTermDecoder.createDecoder(\n            {value, transformer: this});\n          obj[term] = decoder ? decoder.decode({value}) : value;\n        }\n      }\n    }\n  }\n\n  _getEntries({transformMap, termMap}) {\n    // get term entries to be transformed and sort by *term* to ensure term\n    // IDs will be assigned in the same order that the compressor assigned them\n    const entries = [];\n    for(const [key, value] of transformMap) {\n      // skip `@context`; not a term entry\n      if(key === CONTEXT_TERM_ID || key === CONTEXT_TERM_ID_PLURAL) {\n        continue;\n      }\n\n      // check for undefined term IDs\n      const {term, plural} = this._getTermForId({id: key});\n      if(term === undefined && !this.compressionModeUndefinedTermAllowed) {\n        throw new CborldError(\n          'ERR_UNKNOWN_CBORLD_TERM_ID',\n          `Unknown term ID '${key}' was detected in the CBOR-LD input.`);\n      }\n\n      // preserve the original term key if undefined terms are allowed\n      if(term === undefined && this.compressionModeUndefinedTermAllowed) {\n        if(typeof key !== 'string') {\n          throw new CborldError(\n            'ERR_UNKNOWN_CBORLD_TERM_ID',\n            `Unknown term ID \"${key}\" was detected in the CBOR-LD input. ` +\n              `Expected term key to be a string for undefined terms when ` +\n              `\"compressionModeUndefinedTermAllowed\" is enabled. The JSON-LD ` +\n              `document must also be encoded with the same policy.`);\n        }\n        entries.push([{\n          term: key,\n          termId: key,\n          plural: Array.isArray(value),\n          def: {'@type': undefined}\n        }, value]);\n        continue;\n      }\n\n      // check for undefined term\n      const def = termMap.get(term);\n      if(def === undefined && !(term.startsWith('@') && KEYWORDS.has(term))) {\n        throw new CborldError(\n          'ERR_UNKNOWN_CBORLD_TERM',\n          `Unknown term \"${term}\" was detected in the CBOR-LD input.`);\n      }\n\n      entries.push([{term, termId: key, plural, def}, value]);\n    }\n    return entries.sort(_sortEntriesByTerm);\n  }\n\n  _getTermInfo({termMap, key}) {\n    // check for undefined term IDs\n    const {term, plural} = this._getTermForId({id: key});\n    if(term === undefined) {\n      throw new CborldError(\n        'ERR_UNKNOWN_CBORLD_TERM_ID',\n        `Unknown term ID '${key}' was detected in the CBOR-LD input.`);\n    }\n\n    // check for undefined term\n    const def = termMap.get(term);\n    if(def === undefined && !(term.startsWith('@') && KEYWORDS.has(term))) {\n      throw new CborldError(\n        'ERR_UNKNOWN_CBORLD_TERM',\n        `Unknown term \"${term}\" was detected in the CBOR-LD input.`);\n    }\n\n    return {term, termId: key, plural, def};\n  }\n\n  _transformObjectId({obj, termInfo, value}) {\n    const decoder = UriDecoder.createDecoder({value});\n    obj[termInfo.term] = decoder ? decoder.decode({value}) : value;\n  }\n\n  _transformObjectType({obj, termInfo, value}) {\n    const {term, plural} = termInfo;\n    const values = plural ? value : [value];\n    const entries = [];\n    for(const value of values) {\n      const decoder = VocabTermDecoder.createDecoder(\n        {value, transformer: this});\n      entries.push(decoder ? decoder.decode({value}) : value);\n    }\n    obj[term] = plural ? entries : entries[0];\n  }\n\n  _transformTypedValue({entries, termType, value}) {\n    const DecoderClass = TYPE_DECODERS.get(termType);\n    const decoder = DecoderClass && DecoderClass.createDecoder(\n      {value, transformer: this});\n    if(decoder) {\n      entries.push(decoder.decode({value}));\n      return true;\n    }\n  }\n\n  async _transformArray({entries, contextStack, value}) {\n    // recurse into array\n    const children = [];\n    for(const transformMap of value) {\n      const obj = {};\n      children.push(obj);\n      await this._transform({obj, transformMap, contextStack});\n    }\n    entries.push(children);\n  }\n\n  async _transformObject({entries, contextStack, value}) {\n    // recurse into object\n    const child = {};\n    entries.push(child);\n    return this._transform({obj: child, transformMap: value, contextStack});\n  }\n\n  _assignEntries({entries, obj, termInfo}) {\n    const {term, plural} = termInfo;\n    obj[term] = plural ? entries : entries[0];\n  }\n}\n\nfunction _sortEntriesByTerm([{term: t1}], [{term: t2}]) {\n  return t1 < t2 ? -1 : t1 > t2 ? 1 : 0;\n}\n\n/**\n * Fetches a resource given a URL and returns it as a string.\n *\n * @callback documentLoaderFunction\n * @param {string} url - The URL to retrieve.\n *\n * @returns {string} The resource associated with the URL as a string.\n */\n\n/**\n * A diagnostic function that is called with diagnostic information. Typically\n * set to `console.log` when debugging.\n *\n * @callback diagnosticFunction\n * @param {string} message - The diagnostic message.\n */\n","/*!\n * Copyright (c) 2020-2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport * as cborg from 'cborg';\nimport {CborldError} from './CborldError.js';\nimport {Decompressor} from './Decompressor.js';\nimport {inspect} from './util.js';\n\n/**\n * Decodes a CBOR-LD byte array into a JSON-LD document.\n *\n * @param {object} options - The options to use when decoding CBOR-LD.\n * @param {Uint8Array} options.cborldBytes - The encoded CBOR-LD bytes to\n *   decode.\n * @param {Function} options.documentLoader -The document loader to use when\n *   resolving JSON-LD Context URLs.\n * @param {Map} [options.appContextMap] - A map of JSON-LD Context URLs and\n *   their associated CBOR-LD values. The values must be greater than\n *   32767 (0x7FFF)).\n * @param {boolean} [options.compressionModeUndefinedTermAllowed] - Allow the\n *   JSON-LD document to contain terms that are not defined in the context. The\n *   original values of terms that cannot be resolved from the context map will\n *   be preserved. Defaults to `false`, every key that does not have a defined\n *   term will raise an error.\n * @param {diagnosticFunction} [options.diagnose] - A function that, if\n *   provided, is called with diagnostic information.\n *\n * @returns {Promise<object>} - The decoded JSON-LD Document.\n */\nexport async function decode({\n  cborldBytes, documentLoader, appContextMap = new Map(),\n  compressionModeUndefinedTermAllowed = false, diagnose\n}) {\n  if(!(cborldBytes instanceof Uint8Array)) {\n    throw new TypeError('\"cborldBytes\" must be a Uint8Array.');\n  }\n\n  // 0xd9 == 11011001\n  // 110 = CBOR major type 6\n  // 11001 = 25, 16-bit tag size (65536 possible values)\n  let index = 0;\n  if(cborldBytes[index++] !== 0xd9) {\n    throw new CborldError(\n      'ERR_NOT_CBORLD',\n      'CBOR-LD must start with a CBOR major type \"Tag\" header of `0xd9`.');\n  }\n\n  // ensure `cborldBytes` represent CBOR-LD\n  if(cborldBytes[index++] !== 0x05) {\n    throw new CborldError(\n      'ERR_NOT_CBORLD', 'CBOR-LD 16-bit tag must start with `0x05`.');\n  }\n\n  const compressionMode = cborldBytes[index];\n  if(compressionMode === undefined) {\n    throw new CborldError(\n      'ERR_NOT_CBORLD', 'Truncated CBOR-LD 16-bit tag.');\n  }\n\n  if(!(compressionMode === 0 || compressionMode === 1)) {\n    throw new CborldError(\n      'ERR_NOT_CBORLD',\n      `Unsupported CBOR-LD compression mode \"${compressionMode}\".`);\n  }\n\n  index++;\n  const {buffer, byteOffset, length} = cborldBytes;\n  const suffix = new Uint8Array(buffer, byteOffset + index, length - index);\n\n  // handle uncompressed CBOR-LD\n  if(compressionMode === 0) {\n    return cborg.decode(suffix, {useMaps: false});\n  }\n\n  // decompress CBOR-LD\n  const decompressor = new Decompressor(\n    {documentLoader, appContextMap, compressionModeUndefinedTermAllowed});\n  const result = await decompressor.decompress(\n    {compressedBytes: suffix, diagnose});\n\n  if(diagnose) {\n    diagnose('Diagnostic JSON-LD result:');\n    diagnose(inspect(result, {depth: null, colors: true}));\n  }\n\n  return result;\n}\n\n/**\n * A diagnostic function that is called with diagnostic information. Typically\n * set to `console.log` when debugging.\n *\n * @callback diagnosticFunction\n * @param {string} message - The diagnostic message.\n */\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nexport class CborldEncoder {\n  encode() {\n    throw new Error('Must be implemented by derived class.');\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  static createEncoder({value} = {}) {\n    throw new Error('Must be implemented by derived class.');\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldEncoder} from './CborldEncoder.js';\nimport {URL_TO_ID} from './registeredContexts.js';\nimport {Token, Type} from 'cborg';\n\nexport class ContextEncoder extends CborldEncoder {\n  constructor({context, appContextMap} = {}) {\n    super();\n    this.context = context;\n    this.appContextMap = appContextMap;\n  }\n\n  encode() {\n    const {context} = this;\n    const id = URL_TO_ID.get(context) || this.appContextMap.get(context);\n    if(id === undefined) {\n      return new Token(Type.string, context);\n    }\n    return new Token(Type.uint, id);\n  }\n\n  static createEncoder({value, transformer} = {}) {\n    if(typeof value !== 'string') {\n      return false;\n    }\n    const {appContextMap} = transformer;\n    return new ContextEncoder({context: value, appContextMap});\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {Base64} from 'js-base64';\nimport {CborldEncoder} from './CborldEncoder.js';\nimport {decode as decodeBase58} from 'base58-universal';\nimport {Token, Type} from 'cborg';\n\n// this class is used to encode a multibase encoded value in CBOR-LD, which\n// actually means transforming a multibase-encoded string to bytes\nexport class MultibaseEncoder extends CborldEncoder {\n  constructor({value} = {}) {\n    super();\n    this.value = value;\n  }\n\n  encode() {\n    const {value} = this;\n\n    let prefix;\n    let suffix;\n    if(value[0] === 'z') {\n      // 0x7a === 'z' (multibase code for base58btc)\n      prefix = 0x7a;\n      suffix = decodeBase58(value.substr(1));\n    } else if(value[0] === 'M') {\n      // 0x4d === 'M' (multibase code for base64pad)\n      prefix = 0x4d;\n      suffix = Base64.toUint8Array(value.substr(1));\n    }\n\n    const bytes = new Uint8Array(1 + suffix.length);\n    bytes[0] = prefix;\n    bytes.set(suffix, 1);\n    return new Token(Type.bytes, bytes);\n  }\n\n  static createEncoder({value} = {}) {\n    if(typeof value !== 'string') {\n      return false;\n    }\n    // supported multibase encodings:\n    // 0x7a === 'z' (multibase code for base58btc)\n    // 0x4d === 'M' (multibase code for base64pad)\n    if(value[0] === 'z' || value[0] === 'M') {\n      return new MultibaseEncoder({value});\n    }\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldEncoder} from './CborldEncoder.js';\nimport {Token, Type} from 'cborg';\nimport {decode as decodeBase58} from 'base58-universal';\n\nconst SCHEME_TO_ID = new Map([\n  ['did:v1:nym:', 1024],\n  ['did:key:', 1025]\n]);\n\nexport class Base58DidUrlEncoder extends CborldEncoder {\n  constructor({value, scheme} = {}) {\n    super();\n    this.value = value;\n    this.scheme = scheme;\n  }\n\n  encode() {\n    const {value, scheme} = this;\n    const suffix = value.substr(scheme.length);\n    const [authority, fragment] = suffix.split('#');\n    const entries = [\n      new Token(Type.uint, SCHEME_TO_ID.get(scheme)),\n      _multibase58ToToken(authority)\n    ];\n    if(fragment !== undefined) {\n      entries.push(_multibase58ToToken(fragment));\n    }\n    return [new Token(Type.array, entries.length), entries];\n  }\n\n  static createEncoder({value} = {}) {\n    const keys = [...SCHEME_TO_ID.keys()];\n    for(const key of keys) {\n      if(value.startsWith(key)) {\n        return new Base58DidUrlEncoder({value, scheme: key});\n      }\n    }\n  }\n}\n\nfunction _multibase58ToToken(str) {\n  if(str.startsWith('z')) {\n    const decoded = decodeBase58(str.substr(1));\n    if(decoded) {\n      return new Token(Type.bytes, decoded);\n    }\n  }\n  // cannot compress\n  return new Token(Type.string, str);\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldEncoder} from './CborldEncoder.js';\nimport {Token, Type} from 'cborg';\n\nexport class HttpUrlEncoder extends CborldEncoder {\n  constructor({value, secure} = {}) {\n    super();\n    this.value = value;\n    this.secure = secure;\n  }\n\n  encode() {\n    const {value, secure} = this;\n    const length = secure ? 'https://'.length : 'http://'.length;\n    const entries = [\n      new Token(Type.uint, secure ? 2 : 1),\n      new Token(Type.string, value.substr(length))\n    ];\n    return [new Token(Type.array, entries.length), entries];\n  }\n\n  static createEncoder({value} = {}) {\n    // presume HTTPS is more common, check for it first\n    if(value.startsWith('https://')) {\n      return new HttpUrlEncoder({value, secure: true});\n    }\n    if(value.startsWith('http://')) {\n      return new HttpUrlEncoder({value, secure: false});\n    }\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldEncoder} from './CborldEncoder.js';\nimport {Token, Type} from 'cborg';\nimport {parse} from 'uuid';\n\nexport class UuidUrnEncoder extends CborldEncoder {\n  constructor({value} = {}) {\n    super();\n    this.value = value;\n  }\n\n  encode() {\n    const {value} = this;\n    const rest = value.substr('urn:uuid:'.length);\n    const entries = [new Token(Type.uint, 3)];\n    if(rest.toLowerCase() === rest) {\n      const uuidBytes = parse(rest);\n      entries.push(new Token(Type.bytes, uuidBytes));\n    } else {\n      // cannot compress\n      entries.push(new Token(Type.string, rest));\n    }\n    return [new Token(Type.array, entries.length), entries];\n  }\n\n  static createEncoder({value} = {}) {\n    if(value.startsWith('urn:uuid:')) {\n      return new UuidUrnEncoder({value});\n    }\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldEncoder} from './CborldEncoder.js';\nimport {Base58DidUrlEncoder} from './Base58DidUrlEncoder.js';\nimport {HttpUrlEncoder} from './HttpUrlEncoder.js';\nimport {UuidUrnEncoder} from './UuidUrnEncoder.js';\n\nconst SCHEME_TO_ENCODER = new Map([\n  ['http', HttpUrlEncoder],\n  ['https', HttpUrlEncoder],\n  ['urn:uuid', UuidUrnEncoder],\n  ['did:v1:nym', Base58DidUrlEncoder],\n  ['did:key', Base58DidUrlEncoder]\n]);\n\nexport class UriEncoder extends CborldEncoder {\n  static createEncoder({value} = {}) {\n    if(typeof value !== 'string') {\n      return false;\n    }\n\n    // get full colon-delimited prefix\n    let scheme;\n    try {\n      // this handles URIs both with authority followed by `//` and without\n      const {protocol, pathname} = new URL(value);\n      scheme = protocol;\n      if(pathname.includes(':')) {\n        scheme += pathname;\n      }\n      const split = value.split(':');\n      split.pop();\n      scheme = split.join(':');\n    } catch(e) {\n      return false;\n    }\n\n    const EncoderClass = SCHEME_TO_ENCODER.get(scheme);\n    return EncoderClass && EncoderClass.createEncoder({value});\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldEncoder} from './CborldEncoder.js';\nimport {Token, Type} from 'cborg';\nimport {UriEncoder} from './UriEncoder.js';\n\nexport class VocabTermEncoder extends CborldEncoder {\n  constructor({termId} = {}) {\n    super();\n    this.termId = termId;\n  }\n\n  encode() {\n    return new Token(Type.uint, this.termId);\n  }\n\n  static createEncoder({value, transformer} = {}) {\n    const {termToId} = transformer;\n    const termId = termToId.get(value);\n    if(termId !== undefined) {\n      return new VocabTermEncoder({termId});\n    }\n    return UriEncoder.createEncoder({value});\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldEncoder} from './CborldEncoder.js';\nimport {Token, Type} from 'cborg';\n\nexport class XsdDateEncoder extends CborldEncoder {\n  constructor({value, parsed} = {}) {\n    super();\n    this.value = value;\n    this.parsed = parsed;\n  }\n\n  encode() {\n    const {value, parsed} = this;\n    const secondsSinceEpoch = Math.floor(parsed / 1000);\n    const dateString = new Date(secondsSinceEpoch * 1000).toISOString();\n    const expectedDate = dateString.substring(0, dateString.indexOf('T'));\n    if(value !== expectedDate) {\n      // compression would be lossy, do not compress\n      return new Token(Type.string, value);\n    }\n    return new Token(Type.uint, secondsSinceEpoch);\n  }\n\n  static createEncoder({value} = {}) {\n    if(value.includes('T')) {\n      // time included, cannot compress\n      return false;\n    }\n    const parsed = Date.parse(value);\n    if(isNaN(parsed)) {\n      // no date parsed, cannot compress\n      return false;\n    }\n\n    return new XsdDateEncoder({value, parsed});\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport {CborldEncoder} from './CborldEncoder.js';\nimport {Token, Type} from 'cborg';\n\nexport class XsdDateTimeEncoder extends CborldEncoder {\n  constructor({value, parsed} = {}) {\n    super();\n    this.value = value;\n    this.parsed = parsed;\n  }\n\n  encode() {\n    const {value, parsed} = this;\n    const secondsSinceEpoch = Math.floor(parsed / 1000);\n    const secondsToken = new Token(Type.uint, secondsSinceEpoch);\n    const millisecondIndex = value.indexOf('.');\n    if(millisecondIndex === -1) {\n      const expectedDate = new Date(\n        secondsSinceEpoch * 1000).toISOString().replace('.000Z', 'Z');\n      if(value !== expectedDate) {\n        // compression would be lossy, do not compress\n        return new Token(Type.string, value);\n      }\n      // compress with second precision\n      return secondsToken;\n    }\n\n    const milliseconds = parseInt(value.substr(millisecondIndex + 1), 10);\n    const expectedDate = new Date(\n      secondsSinceEpoch * 1000 + milliseconds).toISOString();\n    if(value !== expectedDate) {\n      // compress would be lossy, do not compress\n      return new Token(Type.string, value);\n    }\n\n    // compress with subsecond precision\n    const entries = [\n      secondsToken,\n      new Token(Type.uint, milliseconds)\n    ];\n    return [new Token(Type.array, entries.length), entries];\n  }\n\n  static createEncoder({value} = {}) {\n    if(!value.includes('T')) {\n      // no time included, cannot compress\n      return false;\n    }\n    const parsed = Date.parse(value);\n    if(isNaN(parsed)) {\n      // no date parsed, cannot compress\n      return false;\n    }\n\n    return new XsdDateTimeEncoder({value, parsed});\n  }\n}\n","/*!\n * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport * as cborg from 'cborg';\nimport {CborldError} from './CborldError.js';\nimport {CborldEncoder} from './codecs/CborldEncoder.js';\nimport {ContextEncoder} from './codecs/ContextEncoder.js';\nimport {MultibaseEncoder} from './codecs/MultibaseEncoder.js';\nimport {Transformer} from './Transformer.js';\nimport {UriEncoder} from './codecs/UriEncoder.js';\nimport {VocabTermEncoder} from './codecs/VocabTermEncoder.js';\nimport {XsdDateEncoder} from './codecs/XsdDateEncoder.js';\nimport {XsdDateTimeEncoder} from './codecs/XsdDateTimeEncoder.js';\nimport {inspect} from './util.js';\nimport {FIRST_CUSTOM_TERM_ID, KEYWORDS} from './keywords.js';\n\nexport const TYPE_ENCODERS = new Map([\n  ['@id', UriEncoder],\n  ['@vocab', VocabTermEncoder],\n  ['https://w3id.org/security#multibase', MultibaseEncoder],\n  ['http://www.w3.org/2001/XMLSchema#date', XsdDateEncoder],\n  ['http://www.w3.org/2001/XMLSchema#dateTime', XsdDateTimeEncoder]\n]);\n\nconst CONTEXT_TERM_ID = KEYWORDS.get('@context');\nconst CONTEXT_TERM_ID_PLURAL = CONTEXT_TERM_ID + 1;\n\n// override cborg object encoder to use cborld encoders\nconst typeEncoders = {\n  Object(obj) {\n    if(obj instanceof CborldEncoder) {\n      return obj.encode({obj});\n    }\n  }\n};\n\nexport class Compressor extends Transformer {\n  /**\n   * Creates a new Compressor for generating compressed CBOR-LD from a\n   * JSON-LD document. The created instance may only be used on a single\n   * JSON-LD document at a time.\n   *\n   * @param {object} options - The options to use when encoding to CBOR-LD.\n   * @param {documentLoaderFunction} options.documentLoader -The document\n   *   loader to use when resolving JSON-LD Context URLs.\n   * @param {Map} [options.appContextMap] - A map of JSON-LD Context URLs and\n   *   their encoded CBOR-LD values (must be values greater than 32767\n   *   (0x7FFF)).\n   * @param {boolean} [options.compressionModeUndefinedTermAllowed] - Allow the\n   *   JSON-LD document to contain terms that are not defined in the context.\n   *   The original values of the undefined terms will be preserved during\n   *   compression. Defaults to `false`, every key that does not have a defined\n   *   term will raise an error.\n   */\n  constructor({documentLoader, appContextMap,\n    compressionModeUndefinedTermAllowed} = {}) {\n    super({documentLoader, appContextMap, compressionModeUndefinedTermAllowed});\n  }\n\n  /**\n   * Compresses the given JSON-LD document into a CBOR-LD byte array of\n   * compressed bytes that should follow the compressed CBOR-LD CBOR tag.\n   *\n   * @param {object} options - The options to use.\n   * @param {object} options.jsonldDocument - The JSON-LD Document to convert\n   *   to CBOR-LD bytes.\n   * @param {diagnosticFunction} [options.diagnose] - A function that, if\n   *   provided, is called with diagnostic information.\n   *\n   * @returns {Promise<Uint8Array>} - The compressed CBOR-LD bytes.\n   */\n  async compress({jsonldDocument, diagnose} = {}) {\n    const transformMaps = await this._createTransformMaps({jsonldDocument});\n    if(diagnose) {\n      diagnose('Diagnostic CBOR-LD compression transform map(s):');\n      diagnose(inspect(transformMaps, {depth: null, colors: true}));\n    }\n    return cborg.encode(transformMaps, {typeEncoders});\n  }\n\n  async _createTransformMaps({jsonldDocument}) {\n    // initialize state\n    this.contextMap = new Map();\n    this.termToId = new Map(KEYWORDS);\n    this.nextTermId = FIRST_CUSTOM_TERM_ID;\n\n    // handle single or multiple JSON-LD docs\n    const transformMaps = [];\n    const isArray = Array.isArray(jsonldDocument);\n    const docs = isArray ? jsonldDocument : [jsonldDocument];\n    for(const obj of docs) {\n      const transformMap = new Map();\n      await this._transform({obj, transformMap});\n      transformMaps.push(transformMap);\n    }\n\n    return isArray ? transformMaps : transformMaps[0];\n  }\n\n  _afterObjectContexts({obj, transformMap}) {\n    // if `@context` is present in the object, encode it\n    const context = obj['@context'];\n    if(!context) {\n      return;\n    }\n\n    const entries = [];\n    const isArray = Array.isArray(context);\n    const contexts = isArray ? context : [context];\n    for(const value of contexts) {\n      const encoder = ContextEncoder.createEncoder(\n        {value, transformer: this});\n      entries.push(encoder || value);\n    }\n    const id = isArray ? CONTEXT_TERM_ID_PLURAL : CONTEXT_TERM_ID;\n    transformMap.set(id, isArray ? entries : entries[0]);\n  }\n\n  _getEntries({obj, termMap}) {\n    // get term entries to be transformed and sort by *term* to ensure term\n    // IDs will be assigned in the same order that the decompressor will\n    const entries = [];\n    const keys = Object.keys(obj).sort();\n    for(const key of keys) {\n      // skip `@context`; not a term entry\n      if(key === '@context') {\n        continue;\n      }\n\n      // check for undefined terms\n      const def = termMap.get(key);\n      if(\n        def === undefined &&\n        !(key.startsWith('@') && KEYWORDS.has(key)) &&\n        !this.compressionModeUndefinedTermAllowed\n      ) {\n        throw new CborldError(\n          'ERR_UNKNOWN_CBORLD_TERM',\n          `Unknown term '${key}' was detected in the JSON-LD input.`);\n      }\n\n      const value = obj[key];\n      const plural = Array.isArray(value);\n      const termId = this._getIdForTerm({term: key, plural});\n      entries.push([{term: key, termId, plural, def}, value]);\n    }\n    return entries;\n  }\n\n  _transformObjectId({transformMap, termInfo, value}) {\n    const {termId} = termInfo;\n    const encoder = UriEncoder.createEncoder(\n      {value, transformer: this, termInfo});\n    transformMap.set(termId, encoder || value);\n  }\n\n  _transformObjectType({transformMap, termInfo, value}) {\n    const {termId, plural} = termInfo;\n    const values = plural ? value : [value];\n    const entries = [];\n    for(const value of values) {\n      const encoder = VocabTermEncoder.createEncoder(\n        {value, transformer: this, termInfo});\n      entries.push(encoder || value);\n    }\n    transformMap.set(termId, plural ? entries : entries[0]);\n  }\n\n  _transformTypedValue({entries, termType, value, termInfo}) {\n    const EncoderClass = TYPE_ENCODERS.get(termType);\n    const encoder = EncoderClass && EncoderClass.createEncoder(\n      {value, transformer: this, termInfo});\n    if(encoder) {\n      entries.push(encoder);\n      return true;\n    }\n  }\n\n  async _transformArray({entries, contextStack, value}) {\n    // recurse into array\n    const children = [];\n    for(const obj of value) {\n      const childMap = new Map();\n      children.push(childMap);\n      await this._transform({obj, transformMap: childMap, contextStack});\n    }\n    entries.push(children);\n  }\n\n  async _transformObject({entries, contextStack, value}) {\n    // recurse into object\n    const transformMap = new Map();\n    entries.push(transformMap);\n    await this._transform({obj: value, transformMap, contextStack});\n  }\n\n  _assignEntries({entries, transformMap, termInfo}) {\n    const {termId, plural} = termInfo;\n    transformMap.set(termId, plural ? entries : entries[0]);\n  }\n}\n\n/**\n * A diagnostic function that is called with diagnostic information. Typically\n * set to `console.log` when debugging.\n *\n * @callback diagnosticFunction\n * @param {string} message - The diagnostic message.\n */\n\n/**\n * Fetches a resource given a URL and returns it as a string.\n *\n * @callback documentLoaderFunction\n * @param {string} url - The URL to retrieve.\n *\n * @returns {string} The resource associated with the URL as a string.\n */\n","/*!\n * Copyright (c) 2020-2021 Digital Bazaar, Inc. All rights reserved.\n */\nimport * as cborg from 'cborg';\nimport {inspect} from './util.js';\nimport {Compressor} from './Compressor.js';\n\n/**\n * Encodes a given JSON-LD document into a CBOR-LD byte array.\n *\n * @param {object} options - The options to use when encoding to CBOR-LD.\n * @param {object} options.jsonldDocument - The JSON-LD Document to convert to\n *   CBOR-LD bytes.\n * @param {documentLoaderFunction} options.documentLoader -The document loader\n *   to use when resolving JSON-LD Context URLs.\n * @param {boolean} [options.compressionMode=1] - `1` to use compression mode\n *   version 1, `0` to use no compression.\n * @param {Map} [options.appContextMap] - A map of JSON-LD Context URLs and\n *   their encoded CBOR-LD values (must be values greater than 32767 (0x7FFF)).\n * @param {boolean} [options.compressionModeUndefinedTermAllowed] - Allow the\n *   JSON-LD document to contain terms that are not defined in the context. The\n *   original values of the undefined terms will be preserved during\n *   compression. Defaults to `false`, every key that does not have a defined\n *   term will raise an error.\n * @param {diagnosticFunction} [options.diagnose] - A function that, if\n * provided, is called with diagnostic information.\n *\n * @returns {Promise<Uint8Array>} - The encoded CBOR-LD bytes.\n */\nexport async function encode({\n  jsonldDocument, documentLoader, appContextMap = new Map(),\n  compressionModeUndefinedTermAllowed = false, compressionMode = 1, diagnose\n} = {}) {\n  if(!(compressionMode === 0 || compressionMode === 1)) {\n    throw new TypeError(\n      '\"compressionMode\" must be \"0\" (no compression) or \"1\" ' +\n      'for compression mode version 1.');\n  }\n\n  // 0xd9 == 11011001\n  // 110 = CBOR major type 6\n  // 11001 = 25, 16-bit tag size (65536 possible values)\n  // 0x05 = always the first 8-bits of a CBOR-LD tag\n  // compressionMode = last 8-bits of a CBOR-LD tag indicating compression type\n  const prefix = new Uint8Array([0xd9, 0x05, compressionMode]);\n  let suffix;\n\n  if(compressionMode === 0) {\n    // handle uncompressed CBOR-LD\n    suffix = cborg.encode(jsonldDocument);\n  } else {\n    // compress CBOR-LD\n    const compressor = new Compressor(\n      {documentLoader, appContextMap, compressionModeUndefinedTermAllowed});\n    suffix = await compressor.compress({jsonldDocument, diagnose});\n  }\n\n  // concatenate prefix and suffix\n  const length = prefix.length + suffix.length;\n  const bytes = new Uint8Array(length);\n  bytes.set(prefix);\n  bytes.set(suffix, prefix.length);\n\n  if(diagnose) {\n    diagnose('Diagnostic CBOR-LD result:');\n    diagnose(inspect(bytes, {depth: null, colors: true}));\n  }\n\n  return bytes;\n}\n\n/**\n * A diagnostic function that is called with diagnostic information. Typically\n * set to `console.log` when debugging.\n *\n * @callback diagnosticFunction\n * @param {string} message - The diagnostic message.\n */\n\n/**\n * Fetches a resource given a URL and returns it as a string.\n *\n * @callback documentLoaderFunction\n * @param {string} url - The URL to retrieve.\n *\n * @returns {string} The resource associated with the URL as a string.\n */\n"],"names":["encodeBase58","Base64","uuid","stringify","CONTEXT_TERM_ID","CONTEXT_TERM_ID_PLURAL","cborg","inspect","Token","Type","decodeBase58","parse"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACO,MAAM,WAAW,SAAS,KAAK,CAAC;AACvC,EAAE,WAAW,CAAC,KAAK,EAAE,OAAO,EAAE;AAC9B,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AAC3B,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACvB,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC;AAC3D,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;AACtC,GAAG;AACH;;ACXA;AACA;AACA;AACO,MAAM,aAAa,CAAC;AAC3B;AACA,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACvB,IAAI,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;AAC7D,GAAG;AACH;AACA;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,EAAE,WAAW,CAAC,GAAG,EAAE,EAAE;AAClD,IAAI,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;AAC7D,GAAG;AACH;;ACbA;AACA;AACA;AACA;AACO,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAC;AAC5B,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAC;AACnC;AACA;AACA;AACA;AACA,gBAAgB,CAAC,IAAI,EAAE,uCAAuC,CAAC,CAAC;AAChE,gBAAgB,CAAC,IAAI,EAAE,wCAAwC,CAAC,CAAC;AACjE,gBAAgB,CAAC,IAAI,EAAE,8BAA8B,CAAC,CAAC;AACvD,gBAAgB,CAAC,IAAI,EAAE,kDAAkD,CAAC,CAAC;AAC3E,gBAAgB,CAAC,IAAI,EAAE,kDAAkD,CAAC,CAAC;AAC3E,gBAAgB,CAAC,IAAI,EAAE,yBAAyB,CAAC,CAAC;AAClD,gBAAgB,CAAC,IAAI,EAAE,yBAAyB,CAAC,CAAC;AAClD,gBAAgB,CAAC,IAAI,EAAE,iDAAiD,CAAC,CAAC;AAC1E,gBAAgB,CAAC,IAAI,EAAE,+BAA+B,CAAC,CAAC;AACxD,gBAAgB,CAAC,IAAI,EAAE,4BAA4B,CAAC,CAAC;AACrD,gBAAgB,CAAC,IAAI,EAAE,0BAA0B,CAAC,CAAC;AACnD,gBAAgB,CAAC,IAAI,EAAE,+CAA+C,CAAC,CAAC;AACxE,gBAAgB,CAAC,IAAI,EAAE,8CAA8C,CAAC,CAAC;AACvE,gBAAgB,CAAC,IAAI,EAAE,iCAAiC,CAAC,CAAC;AAC1D,gBAAgB,CAAC,IAAI,EAAE,6CAA6C,CAAC,CAAC;AACtE,gBAAgB,CAAC,IAAI,EAAE,0BAA0B,CAAC,CAAC;AACnD,gBAAgB,CAAC,IAAI,EAAE,oCAAoC,CAAC,CAAC;AAC7D;AACA,SAAS,gBAAgB,CAAC,EAAE,EAAE,GAAG,EAAE;AACnC,EAAE,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AACzB,EAAE,SAAS,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;AACzB;;AC/BA;AACA;AACA;AAIA;AACO,MAAM,cAAc,SAAS,aAAa,CAAC;AAClD,EAAE,WAAW,CAAC,CAAC,oBAAoB,CAAC,GAAG,EAAE,EAAE;AAC3C,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;AACrD,GAAG;AACH;AACA,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACvB;AACA,IAAI,GAAG,OAAO,KAAK,KAAK,QAAQ,EAAE;AAClC,MAAM,OAAO,YAAY,CAAC,KAAK,CAAC,CAAC;AACjC,KAAK;AACL;AACA;AACA,IAAI,MAAM,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAC7E,IAAI,GAAG,GAAG,KAAK,SAAS,EAAE;AAC1B,MAAM,MAAM,IAAI,WAAW;AAC3B,QAAQ,kCAAkC;AAC1C,QAAQ,CAAC,8BAA8B,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;AACpD,KAAK;AACL,IAAI,OAAO,GAAG,CAAC;AACf,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,WAAW,CAAC,GAAG,EAAE,EAAE;AAC3C,IAAI,MAAM,CAAC,oBAAoB,CAAC,GAAG,WAAW,CAAC;AAC/C,IAAI,OAAO,IAAI,cAAc,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACtD,GAAG;AACH,CAAC;AACD;AACA,SAAS,YAAY,CAAC,GAAG,EAAE;AAC3B,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AACzB,IAAI,OAAO,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AACjC,GAAG;AACH,EAAE,GAAG,EAAE,GAAG,YAAY,GAAG,CAAC,EAAE;AAC5B,IAAI,OAAO,GAAG,CAAC;AACf,GAAG;AACH;AACA,EAAE,MAAM,GAAG,GAAG,EAAE,CAAC;AACjB,EAAE,IAAI,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,GAAG,EAAE;AACjC,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;AACnC,GAAG;AACH,EAAE,OAAO,GAAG,CAAC;AACb;;AChDA;AACA;AACA;AAIA;AACA;AACA;AACO,MAAM,gBAAgB,SAAS,aAAa,CAAC;AACpD,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACvB,IAAI,MAAM,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC,GAAG,KAAK,CAAC;AAC/C,IAAI,MAAM,MAAM,GAAG,IAAI,UAAU,CAAC,MAAM,EAAE,UAAU,GAAG,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC;AACtE,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;AAC1B;AACA,MAAM,OAAO,CAAC,CAAC,EAAEA,sBAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACxC,KAAK;AACL,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;AAC1B;AACA,MAAM,OAAO,CAAC,CAAC,EAAEC,eAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACjD,KAAK;AACL,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,EAAE,KAAK,YAAY,UAAU,CAAC,EAAE;AACvC,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL;AACA;AACA;AACA,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;AAC/C,MAAM,OAAO,IAAI,gBAAgB,EAAE,CAAC;AACpC,KAAK;AACL,GAAG;AACH;;ACnCA;AACA;AACA;AACO,MAAM,QAAQ,GAAG,IAAI,GAAG,CAAC;AAChC;AACA,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC;AACjB,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;AACd,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;AACZ,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;AACf;AACA;AACA,EAAE,CAAC,YAAY,EAAE,CAAC,CAAC;AACnB,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC;AAChB,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC;AACnB,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC;AAChB,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC;AACf,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC;AACnB,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC;AACf,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC;AACf,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC;AAClB;AACA,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC;AACf,EAAE,CAAC,YAAY,EAAE,EAAE,CAAC;AACpB,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC;AAClB,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC;AAChB,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC;AACnB,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC;AACf,EAAE,CAAC,cAAc,EAAE,EAAE,CAAC;AACtB,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC;AACjB,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC;AACnB,EAAE,CAAC,YAAY,EAAE,EAAE,CAAC;AACpB,EAAE,CAAC,aAAa,EAAE,EAAE,CAAC;AACrB,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC;AACd,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC;AAClB,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC;AAChB,CAAC,CAAC,CAAC;AACI,MAAM,oBAAoB,GAAG,GAAG;;ACpCvC;AACA;AACA;AAGA;AACA,MAAM,gBAAgB,GAAG,EAAE,CAAC;AAC5B;AACO,MAAM,WAAW,CAAC;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,CAAC,aAAa,EAAE,cAAc;AAC5C,IAAI,mCAAmC,CAAC,GAAG,EAAE,EAAE;AAC/C,IAAI,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;AACvC,IAAI,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;AACzC,IAAI,IAAI,CAAC,mCAAmC;AAC5C,MAAM,mCAAmC,CAAC;AAC1C,GAAG;AACH;AACA;AACA,EAAE,qBAAqB,GAAG,EAAE;AAC5B,EAAE,oBAAoB,GAAG,EAAE;AAC3B,EAAE,yBAAyB,GAAG,EAAE;AAChC;AACA,EAAE,MAAM,UAAU,CAAC,CAAC,GAAG,EAAE,YAAY,EAAE,YAAY,GAAG,EAAE,CAAC,EAAE;AAC3D;AACA,IAAI,IAAI,CAAC,qBAAqB,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC;AACpD;AACA;AACA,IAAI,IAAI,SAAS,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC;AAC3E;AACA;AACA,IAAI,IAAI,CAAC,oBAAoB,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC;AACnD;AACA;AACA;AACA;AACA;AACA,IAAI,MAAM,iBAAiB,GAAG,YAAY,CAAC,KAAK,EAAE,CAAC;AACnD;AACA;AACA,IAAI,IAAI,CAAC,yBAAyB,CAAC,CAAC,SAAS,EAAE,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC;AACnE;AACA;AACA,IAAI,SAAS,GAAG,MAAM,IAAI,CAAC,wBAAwB,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC;AACzE;AACA;AACA,IAAI,MAAM,CAAC,OAAO,EAAE,gBAAgB,EAAE,OAAO,CAAC,GAAG,SAAS,CAAC;AAC3D,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW;AACxC,MAAM,CAAC,GAAG,EAAE,YAAY,EAAE,WAAW,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;AACvD,IAAI,IAAI,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,WAAW,EAAE;AAChD,MAAM,MAAM,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;AAC9B;AACA;AACA,MAAM,GAAG,IAAI,KAAK,KAAK,IAAI,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AACjD,QAAQ,IAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;AACtE,QAAQ,SAAS;AACjB,OAAO;AACP;AACA;AACA,MAAM,GAAG,IAAI,KAAK,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AACrD,QAAQ,IAAI,CAAC,oBAAoB,CAAC,CAAC,GAAG,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;AACxE,QAAQ,SAAS;AACjB,OAAO;AACP;AACA;AACA;AACA,MAAM,IAAI,oBAAoB,GAAG,iBAAiB,CAAC;AACnD;AACA;AACA,MAAM,IAAI,YAAY,CAAC;AACvB,MAAM,MAAM,qBAAqB,GAAG,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAC/D,MAAM,GAAG,qBAAqB,EAAE;AAChC;AACA;AACA,QAAQ,YAAY,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC;AACzD,UAAU,GAAG,EAAE,CAAC,UAAU,EAAE,qBAAqB,CAAC;AAClD,UAAU,YAAY;AACtB,SAAS,CAAC,CAAC;AACX,QAAQ,oBAAoB,GAAG,YAAY,CAAC,KAAK,EAAE,CAAC;AACpD,OAAO;AACP;AACA;AACA,MAAM,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,QAAQ,CAAC;AACrC,MAAM,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY;AACxC,QAAQ,CAAC,SAAS,EAAE,YAAY,IAAI,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;AACrD,MAAM,MAAM,MAAM,GAAG,MAAM,GAAG,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;AAC9C,MAAM,MAAM,OAAO,GAAG,EAAE,CAAC;AACzB,MAAM,IAAI,MAAM,KAAK,IAAI,MAAM,EAAE;AACjC;AACA,QAAQ,GAAG,KAAK,KAAK,IAAI,EAAE;AAC3B,UAAU,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7B,UAAU,SAAS;AACnB,SAAS;AACT;AACA;AACA,QAAQ,GAAG,IAAI,CAAC,oBAAoB,CAAC,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,EAAE;AAC5E,UAAU,SAAS;AACnB,SAAS;AACT;AACA,QAAQ,GAAG,OAAO,KAAK,KAAK,QAAQ,EAAE;AACtC;AACA,UAAU,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC9B,UAAU,SAAS;AACnB,SAAS;AACT;AACA;AACA,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AACjC,UAAU,MAAM,IAAI,CAAC,eAAe;AACpC,YAAY,CAAC,OAAO,EAAE,YAAY,EAAE,oBAAoB,EAAE,KAAK,CAAC,CAAC,CAAC;AAClE,UAAU,SAAS;AACnB,SAAS;AACT;AACA;AACA,QAAQ,MAAM,IAAI,CAAC,gBAAgB,CAAC;AACpC,UAAU,OAAO,EAAE,YAAY,EAAE,oBAAoB,EAAE,KAAK,CAAC,CAAC,CAAC;AAC/D,OAAO;AACP;AACA;AACA,MAAM,GAAG,YAAY,EAAE;AACvB,QAAQ,YAAY,CAAC,MAAM,EAAE,CAAC;AAC9B,OAAO;AACP;AACA,MAAM,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC,CAAC;AAClE,KAAK;AACL;AACA;AACA,IAAI,SAAS,CAAC,MAAM,EAAE,CAAC;AACvB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,sBAAsB,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,EAAE;AACpD,IAAI,MAAM,QAAQ,GAAG,YAAY,CAAC,MAAM,CAAC;AACzC;AACA;AACA,IAAI,MAAM,aAAa,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1C,IAAI,MAAM,IAAI,CAAC,mBAAmB,CAAC,CAAC,YAAY,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC;AAC5E;AACA;AACA,IAAI,IAAI,MAAM,GAAG,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACvD,IAAI,GAAG,CAAC,MAAM,EAAE;AAChB;AACA,MAAM,MAAM,GAAG;AACf,QAAQ,OAAO,EAAE;AACjB,UAAU,EAAE,EAAE,IAAI,GAAG,EAAE;AACvB,UAAU,IAAI,EAAE,IAAI,GAAG,EAAE;AACzB,SAAS;AACT,QAAQ,OAAO,EAAE,EAAE;AACnB,QAAQ,gBAAgB,EAAE,IAAI,GAAG,EAAE;AACnC,QAAQ,OAAO,EAAE,IAAI,GAAG,EAAE;AAC1B,OAAO,CAAC;AACR,KAAK;AACL;AACA,IAAI,OAAO;AACX,MAAM,GAAG,MAAM;AACf,MAAM,MAAM,GAAG;AACf,QAAQ,YAAY,CAAC,MAAM,GAAG,QAAQ,CAAC;AACvC,OAAO;AACP,KAAK,CAAC;AACN,GAAG;AACH;AACA,EAAE,MAAM,wBAAwB,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,EAAE;AACtD,IAAI,MAAM,QAAQ,GAAG,YAAY,CAAC,MAAM,CAAC;AACzC;AACA;AACA,IAAI,IAAI,MAAM,GAAG,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACvD,IAAI,GAAG,CAAC,MAAM,EAAE;AAChB;AACA,MAAM,MAAM,GAAG;AACf,QAAQ,OAAO,EAAE;AACjB,UAAU,EAAE,EAAE,IAAI,GAAG,EAAE;AACvB,UAAU,IAAI,EAAE,IAAI,GAAG,EAAE;AACzB,SAAS;AACT,QAAQ,OAAO,EAAE,EAAE;AACnB,QAAQ,gBAAgB,EAAE,IAAI,GAAG,EAAE;AACnC,QAAQ,OAAO,EAAE,IAAI,GAAG,EAAE;AAC1B,OAAO,CAAC;AACR,KAAK;AACL,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC;AAC7B;AACA;AACA,IAAI,IAAI,UAAU,GAAG,EAAE,CAAC;AACxB,IAAI,MAAM,SAAS,GAAG,CAAC,OAAO,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACjD,IAAI,IAAI,MAAM,IAAI,IAAI,SAAS,EAAE;AACjC,MAAM,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;AAC9B,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AAC/B,QAAQ,UAAU,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC;AAClC,OAAO,MAAM;AACb,QAAQ,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC/B,OAAO;AACP,KAAK;AACL;AACA,IAAI,UAAU,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AACjD;AACA;AACA,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,MAAM,CAAC;AACpC,IAAI,IAAI,MAAM,IAAI,IAAI,UAAU,EAAE;AAClC,MAAM,MAAM,QAAQ,GAAG,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAClD,MAAM,GAAG,QAAQ,EAAE;AACnB,QAAQ,MAAM,IAAI,CAAC,mBAAmB,CAAC,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC,CAAC;AACjE,QAAQ,MAAM,GAAG,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACvD,QAAQ,CAAC,CAAC,gBAAgB,CAAC,GAAG,MAAM,EAAE;AACtC,OAAO;AACP,KAAK;AACL;AACA,IAAI,OAAO;AACX,MAAM,GAAG,MAAM;AACf,MAAM,MAAM,GAAG;AACf,QAAQ,YAAY,CAAC,MAAM,GAAG,QAAQ,CAAC;AACvC,OAAO;AACP,KAAK,CAAC;AACN,GAAG;AACH;AACA,EAAE,MAAM,mBAAmB,CAAC,CAAC,YAAY,EAAE,QAAQ,EAAE,WAAW;AAChE,IAAI,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC,EAAE;AACzB;AACA,IAAI,GAAG,CAAC,QAAQ,EAAE;AAClB,MAAM,OAAO;AACb,KAAK;AACL,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;AACjC,MAAM,QAAQ,GAAG,CAAC,QAAQ,CAAC,CAAC;AAC5B,KAAK;AACL;AACA,IAAI,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;AAC9B,IAAI,IAAI,MAAM,OAAO,IAAI,QAAQ,EAAE;AACnC,MAAM,IAAI,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAC1C,MAAM,GAAG,CAAC,KAAK,EAAE;AACjB,QAAQ,IAAI,GAAG,GAAG,OAAO,CAAC;AAC1B,QAAQ,IAAI,UAAU,CAAC;AACvB,QAAQ,GAAG,OAAO,OAAO,KAAK,QAAQ,EAAE;AACxC;AACA,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;AAClC,YAAY,MAAM,IAAI,WAAW;AACjC,cAAc,0BAA0B;AACxC,cAAc,CAAC,uBAAuB,EAAE,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;AAClE,WAAW;AACX;AACA;AACA,UAAU,GAAG,MAAM,CAAC,IAAI,GAAG,gBAAgB,EAAE;AAC7C,YAAY,MAAM,IAAI,WAAW;AACjC,cAAc,+BAA+B;AAC7C,cAAc,2CAA2C,CAAC,CAAC;AAC3D,WAAW;AACX;AACA;AACA,UAAU,UAAU,GAAG,OAAO,CAAC;AAC/B,UAAU,CAAC,CAAC,UAAU,EAAE,GAAG,CAAC,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;AAC3E,SAAS;AACT;AACA;AACA;AACA,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;AAC1D;AACA;AACA,UAAU,MAAM,MAAM,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;AAClD,UAAU,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAC9B;AACA,UAAU,MAAM,IAAI,CAAC,mBAAmB,CAAC;AACzC,YAAY,YAAY;AACxB,YAAY,QAAQ,EAAE,GAAG;AACzB,YAAY,MAAM,EAAE,MAAM;AAC1B,WAAW,CAAC,CAAC;AACb,UAAU,SAAS;AACnB,SAAS;AACT;AACA;AACA;AACA,QAAQ,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,WAAW,CAAC,CAAC,CAAC;AAChF,OAAO;AACP;AACA;AACA,MAAM,MAAM,SAAS,GAAG;AACxB,QAAQ,OAAO,EAAE;AACjB,UAAU,EAAE,EAAE,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;AACvC,UAAU,IAAI,EAAE,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;AAC3C,SAAS;AACT,QAAQ,OAAO;AACf,QAAQ,gBAAgB,EAAE,IAAI,GAAG,CAAC,KAAK,CAAC,gBAAgB,CAAC;AACzD,QAAQ,OAAO,EAAE,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;AACvC,OAAO,CAAC;AACR;AACA;AACA,MAAM,MAAM,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAC9D,MAAM,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACnC,MAAM,GAAG,CAAC,SAAS,EAAE;AACrB,QAAQ,SAAS;AACjB,OAAO;AACP;AACA;AACA;AACA,MAAM,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,GAAG,SAAS,CAAC;AAC3C,MAAM,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE;AACvC,QAAQ,IAAI,MAAM,KAAK,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AACnD,UAAU,GAAG,EAAE,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACzE,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACpC,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,MAAM,MAAM,CAAC,gBAAgB,CAAC,GAAG,SAAS,CAAC;AAC3C,MAAM,IAAI,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,SAAS,CAAC,gBAAgB,EAAE;AAC5D,QAAQ,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;AAClE,UAAU,gBAAgB,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;AAC3C,SAAS;AACT,OAAO;AACP;AACA;AACA,MAAM,IAAI,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,SAAS,CAAC,OAAO,EAAE;AACnD,QAAQ,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;AACzD,UAAU,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;AAClC,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA,EAAE,MAAM,WAAW,CAAC,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;AAC3C,IAAI,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,CAAC,GAAG,IAAI,CAAC;AAClD;AACA;AACA,IAAI,MAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACzC,IAAI,GAAG,SAAS,EAAE;AAClB,MAAM,IAAI,WAAW,GAAG,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AAClD,MAAM,GAAG,CAAC,WAAW,EAAE;AACvB,QAAQ,MAAM,CAAC,UAAU,EAAE,SAAS,CAAC,GAAG,MAAM,IAAI,CAAC,YAAY;AAC/D,UAAU,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,CAAC;AAC5B,QAAQ,WAAW,GAAG,MAAM,IAAI,CAAC,WAAW;AAC5C,UAAU,CAAC,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC;AACvD,OAAO;AACP,MAAM,OAAO,GAAG,CAAC,GAAG,WAAW,CAAC,OAAO,EAAE,GAAG,OAAO,CAAC,CAAC;AACrD,KAAK;AACL;AACA;AACA,IAAI,MAAM,gBAAgB,GAAG,IAAI,GAAG,EAAE,CAAC;AACvC,IAAI,MAAM,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;AAC9B,IAAI,MAAM,KAAK,GAAG;AAClB,MAAM,OAAO,EAAE,CAAC,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE,IAAI,EAAE,IAAI,GAAG,EAAE,CAAC;AAC/C,MAAM,OAAO;AACb,MAAM,gBAAgB;AACtB,MAAM,OAAO;AACb,KAAK,CAAC;AACN;AACA;AACA;AACA,IAAI,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;AAC7C,IAAI,IAAI,MAAM,GAAG,IAAI,IAAI,EAAE;AAC3B,MAAM,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;AAC/B,MAAM,GAAG,CAAC,GAAG,EAAE;AACf,QAAQ,SAAS;AACjB,OAAO;AACP,MAAM,GAAG,GAAG,KAAK,KAAK,IAAI,GAAG,CAAC,EAAE,KAAK,KAAK,EAAE;AAC5C,QAAQ,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAClC,OAAO,MAAM,GAAG,GAAG,KAAK,OAAO,IAAI,GAAG,CAAC,EAAE,KAAK,OAAO,EAAE;AACvD,QAAQ,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACpC,OAAO;AACP,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AAC5B;AACA,QAAQ,SAAS;AACjB,OAAO;AACP;AACA,MAAM,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AAC7B,QAAQ,MAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;AACnC,QAAQ,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC;AAC7B,QAAQ,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAC9B,QAAQ,GAAG,QAAQ,EAAE;AACrB,UAAU,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;AAChC,SAAS;AACT,OAAO;AACP,MAAM,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC5B,MAAM,MAAM,aAAa,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC;AAC5C,MAAM,GAAG,aAAa,EAAE;AACxB,QAAQ,gBAAgB,CAAC,GAAG,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;AACjD,OAAO;AACP,KAAK;AACL;AACA;AACA,IAAI,UAAU,CAAC,GAAG,CAAC,UAAU,IAAI,OAAO,EAAE,KAAK,CAAC,CAAC;AACjD;AACA,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG;AACH;AACA,EAAE,MAAM,YAAY,CAAC,CAAC,GAAG,CAAC,EAAE;AAC5B,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;AACtD,IAAI,GAAG,OAAO,QAAQ,KAAK,QAAQ,EAAE;AACrC,MAAM,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAClC,KAAK;AACL,IAAI,OAAO,QAAQ,CAAC;AACpB,GAAG;AACH;AACA,EAAE,YAAY,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE;AACjC,IAAI,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,EAAE,CAAC;AACtC,IAAI,GAAG,CAAC,IAAI,EAAE;AACd;AACA,MAAM,OAAO;AACb,KAAK;AACL;AACA;AACA,IAAI,MAAM,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAChD,IAAI,MAAM,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACpD,IAAI,GAAG,SAAS,KAAK,SAAS,EAAE;AAChC;AACA,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL;AACA;AACA,IAAI,GAAG,OAAO,SAAS,KAAK,QAAQ,EAAE;AACtC,MAAM,OAAO,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC1C,KAAK;AACL;AACA;AACA,IAAI,GAAG,EAAE,OAAO,SAAS,KAAK,QAAQ;AACtC,MAAM,OAAO,SAAS,CAAC,KAAK,CAAC,KAAK,QAAQ,CAAC,EAAE;AAC7C,MAAM,MAAM,IAAI,WAAW;AAC3B,QAAQ,6BAA6B;AACrC,QAAQ,iEAAiE,CAAC,CAAC;AAC3E,KAAK;AACL,IAAI,OAAO,SAAS,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC/C,GAAG;AACH;AACA,EAAE,aAAa,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE;AAChC,IAAI,MAAM,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACvC,IAAI,GAAG,EAAE,KAAK,SAAS,EAAE;AACzB;AACA,MAAM,GAAG,IAAI,CAAC,mCAAmC,EAAE;AACnD,QAAQ,OAAO,IAAI,CAAC;AACpB,OAAO;AACP,MAAM,MAAM,IAAI,WAAW;AAC3B,QAAQ,oBAAoB;AAC5B,QAAQ,oEAAoE;AAC5E,QAAQ,UAAU,CAAC,CAAC;AACpB,KAAK;AACL,IAAI,OAAO,MAAM,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC;AAChC,GAAG;AACH;AACA,EAAE,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE;AACtB,IAAI,MAAM,MAAM,GAAG,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;AAClC,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;AACzD,IAAI,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AAC1B,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvdA;AACA;AACA;AAGA;AACA,MAAM,YAAY,GAAG,IAAI,GAAG,CAAC;AAC7B;AACA,EAAE,CAAC,IAAI,EAAE,aAAa,CAAC;AACvB,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC;AACpB,CAAC,CAAC,CAAC;AACH;AACO,MAAM,mBAAmB,SAAS,aAAa,CAAC;AACvD,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACvB,IAAI,IAAI,GAAG,GAAG,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACzC,IAAI,GAAG,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;AACrC,MAAM,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;AACtB,KAAK,MAAM;AACX,MAAM,GAAG,IAAI,CAAC,CAAC,EAAED,sBAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1C,KAAK;AACL,IAAI,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACzB,MAAM,GAAG,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;AACvC,QAAQ,GAAG,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B,OAAO,MAAM;AACb,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAEA,sBAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,OAAO;AACP,KAAK;AACL,IAAI,OAAO,GAAG,CAAC;AACf,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,EAAE,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE;AACzE,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL,IAAI,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;AACpC,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL,IAAI,OAAO,IAAI,mBAAmB,EAAE,CAAC;AACrC,GAAG;AACH;;ACvCA;AACA;AACA;AAEA;AACO,MAAM,cAAc,SAAS,aAAa,CAAC;AAClD,EAAE,WAAW,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE;AAC7B,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,GAAG;AACH;AACA,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACvB,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,UAAU,GAAG,SAAS,CAAC;AACxD,IAAI,OAAO,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClC,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,EAAE,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,CAAC,EAAE;AAC9D,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL,IAAI,OAAO,IAAI,cAAc,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACxD,GAAG;AACH;;ACtBA;AACA;AACA;AAGA;AACO,MAAM,cAAc,SAAS,aAAa,CAAC;AAClD,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACvB,IAAI,MAAME,MAAI,GAAG,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ;AAC7C,MAAM,KAAK,CAAC,CAAC,CAAC,GAAGC,cAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC,IAAI,OAAO,CAAC,SAAS,EAAED,MAAI,CAAC,CAAC,CAAC;AAC9B,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC;AACzB,OAAO,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,YAAY,UAAU,CAAC,EAAE;AACxE,MAAM,OAAO,IAAI,cAAc,EAAE,CAAC;AAClC,KAAK;AACL,GAAG;AACH;;ACnBA;AACA;AACA;AAKA;AACA,MAAM,oBAAoB,GAAG,IAAI,GAAG,CAAC;AACrC,EAAE,CAAC,CAAC,EAAE,cAAc,CAAC;AACrB,EAAE,CAAC,CAAC,EAAE,cAAc,CAAC;AACrB,EAAE,CAAC,CAAC,EAAE,cAAc,CAAC;AACrB,EAAE,CAAC,IAAI,EAAE,mBAAmB,CAAC;AAC7B,EAAE,CAAC,IAAI,EAAE,mBAAmB,CAAC;AAC7B,CAAC,CAAC,CAAC;AACH;AACO,MAAM,UAAU,SAAS,aAAa,CAAC;AAC9C,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,EAAE,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;AACpD,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL;AACA,IAAI,MAAM,YAAY,GAAG,oBAAoB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5D,IAAI,OAAO,YAAY,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAC/D,GAAG;AACH;;ACzBA;AACA;AACA;AAGA;AACO,MAAM,gBAAgB,SAAS,aAAa,CAAC;AACpD,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE;AAC3B,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACrB,GAAG;AACH;AACA,EAAE,MAAM,GAAG;AACX,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC;AACrB,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,EAAE,WAAW,CAAC,GAAG,EAAE,EAAE;AAClD,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AAC7B,MAAM,OAAO,UAAU,CAAC,aAAa,CAAC,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC,CAAC;AAC5D,KAAK;AACL,IAAI,MAAM,IAAI,GAAG,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACjD,IAAI,GAAG,IAAI,KAAK,SAAS,EAAE;AAC3B,MAAM,OAAO,IAAI,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AAC1C,KAAK;AACL,GAAG;AACH;;ACzBA;AACA;AACA;AAEA;AACO,MAAM,cAAc,SAAS,aAAa,CAAC;AAClD,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACvB,IAAI,MAAM,UAAU,GAAG,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;AAC5D,IAAI,OAAO,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;AAC5D,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,OAAO,KAAK,KAAK,QAAQ,EAAE;AAClC,MAAM,OAAO,IAAI,cAAc,EAAE,CAAC;AAClC,KAAK;AACL,GAAG;AACH;;AChBA;AACA;AACA;AAEA;AACO,MAAM,kBAAkB,SAAS,aAAa,CAAC;AACtD,EAAE,WAAW,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AAC5B,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACvB,GAAG;AACH;AACA,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACvB,IAAI,GAAG,OAAO,KAAK,KAAK,QAAQ,EAAE;AAClC,MAAM,OAAO,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;AACxE,KAAK;AACL,IAAI,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;AAC9D,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,OAAO,KAAK,KAAK,QAAQ,EAAE;AAClC,MAAM,OAAO,IAAI,kBAAkB,EAAE,CAAC;AACtC,KAAK;AACL,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC;AACjD,OAAO,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,CAAC,EAAE;AACtE,MAAM,OAAO,IAAI,kBAAkB,EAAE,CAAC;AACtC,KAAK;AACL,GAAG;AACH;;AC3BA;AACA;AACA;AAYA;AACO,MAAM,aAAa,GAAG,IAAI,GAAG,CAAC;AACrC,EAAE,CAAC,KAAK,EAAE,UAAU,CAAC;AACrB,EAAE,CAAC,QAAQ,EAAE,gBAAgB,CAAC;AAC9B,EAAE,CAAC,qCAAqC,EAAE,gBAAgB,CAAC;AAC3D,EAAE,CAAC,uCAAuC,EAAE,cAAc,CAAC;AAC3D,EAAE,CAAC,2CAA2C,EAAE,kBAAkB,CAAC;AACnE,CAAC,CAAC,CAAC;AACH;AACA,MAAME,iBAAe,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AACjD,MAAMC,wBAAsB,GAAGD,iBAAe,GAAG,CAAC,CAAC;AACnD;AACO,MAAM,YAAY,SAAS,WAAW,CAAC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,CAAC,cAAc,EAAE,aAAa;AAC5C,IAAI,mCAAmC,CAAC,GAAG,EAAE,EAAE;AAC/C,IAAI,KAAK,CAAC,CAAC,cAAc,EAAE,aAAa,EAAE,mCAAmC,CAAC,CAAC,CAAC;AAChF,IAAI,IAAI,CAAC,oBAAoB,GAAG,IAAI,GAAG,EAAE,CAAC;AAC1C;AACA,IAAI,GAAG,aAAa,EAAE;AACtB,MAAM,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,aAAa,EAAE;AACzC,QAAQ,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5C,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,UAAU,CAAC,CAAC,eAAe,EAAE,QAAQ,CAAC,GAAG,EAAE,EAAE;AACrD,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,GAAG,EAAE,CAAC;AAChC,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtC,IAAI,IAAI,CAAC,UAAU,GAAG,oBAAoB,CAAC;AAC3C,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;AAC9B,IAAI,IAAI,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC3C,MAAM,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;AAClC,KAAK;AACL;AACA;AACA,IAAI,MAAM,YAAY,GAAGE,gBAAK,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;AACxE,IAAI,GAAG,QAAQ,EAAE;AACjB,MAAM,QAAQ,CAAC,oDAAoD,CAAC,CAAC;AACrE,MAAM,QAAQ,CAACC,iBAAO,CAAC,YAAY,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACnE,KAAK;AACL;AACA;AACA,IAAI,MAAM,OAAO,GAAG,EAAE,CAAC;AACvB,IAAI,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;AAChD,IAAI,MAAM,aAAa,GAAG,OAAO,GAAG,YAAY,GAAG,CAAC,YAAY,CAAC,CAAC;AAClE,IAAI,IAAI,MAAM,YAAY,IAAI,aAAa,EAAE;AAC7C,MAAM,MAAM,GAAG,GAAG,EAAE,CAAC;AACrB,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC;AACjD,MAAM,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACxB,KAAK;AACL,IAAI,OAAO,OAAO,GAAG,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAC1C,GAAG;AACH;AACA,EAAE,qBAAqB,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,EAAE;AAC7C;AACA,IAAI,MAAM,cAAc,GAAG,YAAY,CAAC,GAAG,CAACH,iBAAe,CAAC,CAAC;AAC7D,IAAI,GAAG,cAAc,EAAE;AACvB,MAAM,MAAM,OAAO,GAAG,cAAc,CAAC,aAAa;AAClD,QAAQ,CAAC,KAAK,EAAE,cAAc,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC;AACpD,MAAM,GAAG,CAAC,UAAU,CAAC,GAAG,OAAO;AAC/B,QAAQ,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC,GAAG,cAAc,CAAC;AACjE,KAAK;AACL,IAAI,MAAM,eAAe,GAAG,YAAY,CAAC,GAAG,CAACC,wBAAsB,CAAC,CAAC;AACrE,IAAI,GAAG,eAAe,EAAE;AACxB,MAAM,GAAG,cAAc,EAAE;AACzB;AACA,QAAQ,MAAM,IAAI,WAAW;AAC7B,UAAU,6BAA6B;AACvC,UAAU,yDAAyD;AACnE,UAAU,gBAAgB,CAAC,CAAC;AAC5B,OAAO;AACP,MAAM,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE;AAC1C;AACA,QAAQ,MAAM,IAAI,WAAW;AAC7B,UAAU,6BAA6B;AACvC,UAAU,gDAAgD,CAAC,CAAC;AAC5D,OAAO;AACP,MAAM,MAAM,OAAO,GAAG,EAAE,CAAC;AACzB,MAAM,IAAI,MAAM,KAAK,IAAI,eAAe,EAAE;AAC1C,QAAQ,MAAM,OAAO,GAAG,cAAc,CAAC,aAAa;AACpD,UAAU,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC;AACtC,QAAQ,OAAO,CAAC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;AAChE,OAAO;AACP,MAAM,GAAG,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC;AAChC,KAAK;AACL,GAAG;AACH;AACA,EAAE,yBAAyB,CAAC,CAAC,SAAS,EAAE,GAAG,EAAE,YAAY,CAAC,EAAE;AAC5D;AACA,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AAC5B,IAAI,MAAM,SAAS,GAAG,CAAC,OAAO,EAAE,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAC3D,IAAI,IAAI,MAAM,IAAI,IAAI,SAAS,EAAE;AACjC;AACA,MAAM,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACxC,MAAM,IAAI,KAAK,GAAG,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAC3C,MAAM,GAAG,KAAK,KAAK,SAAS,EAAE;AAC9B,QAAQ,KAAK,GAAG,YAAY,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAC7C,OAAO;AACP,MAAM,GAAG,KAAK,KAAK,SAAS,EAAE;AAC9B,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AACjC,UAAU,GAAG,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI;AACzC,YAAY,MAAM,OAAO,GAAG,gBAAgB,CAAC,aAAa;AAC1D,cAAc,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC;AAC1C,YAAY,OAAO,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC;AAC7D,WAAW,CAAC,CAAC;AACb,SAAS,MAAM;AACf,UAAU,MAAM,OAAO,GAAG,gBAAgB,CAAC,aAAa;AACxD,YAAY,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC;AACxC,UAAU,GAAG,CAAC,IAAI,CAAC,GAAG,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC;AAChE,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA,EAAE,WAAW,CAAC,CAAC,YAAY,EAAE,OAAO,CAAC,EAAE;AACvC;AACA;AACA,IAAI,MAAM,OAAO,GAAG,EAAE,CAAC;AACvB,IAAI,IAAI,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,YAAY,EAAE;AAC5C;AACA,MAAM,GAAG,GAAG,KAAKD,iBAAe,IAAI,GAAG,KAAKC,wBAAsB,EAAE;AACpE,QAAQ,SAAS;AACjB,OAAO;AACP;AACA;AACA,MAAM,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;AAC3D,MAAM,GAAG,IAAI,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,mCAAmC,EAAE;AAC1E,QAAQ,MAAM,IAAI,WAAW;AAC7B,UAAU,4BAA4B;AACtC,UAAU,CAAC,iBAAiB,EAAE,GAAG,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACzE,OAAO;AACP;AACA;AACA,MAAM,GAAG,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC,mCAAmC,EAAE;AACzE,QAAQ,GAAG,OAAO,GAAG,KAAK,QAAQ,EAAE;AACpC,UAAU,MAAM,IAAI,WAAW;AAC/B,YAAY,4BAA4B;AACxC,YAAY,CAAC,iBAAiB,EAAE,GAAG,CAAC,qCAAqC,CAAC;AAC1E,cAAc,CAAC,0DAA0D,CAAC;AAC1E,cAAc,CAAC,8DAA8D,CAAC;AAC9E,cAAc,CAAC,mDAAmD,CAAC,CAAC,CAAC;AACrE,SAAS;AACT,QAAQ,OAAO,CAAC,IAAI,CAAC,CAAC;AACtB,UAAU,IAAI,EAAE,GAAG;AACnB,UAAU,MAAM,EAAE,GAAG;AACrB,UAAU,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;AACtC,UAAU,GAAG,EAAE,CAAC,OAAO,EAAE,SAAS,CAAC;AACnC,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC;AACnB,QAAQ,SAAS;AACjB,OAAO;AACP;AACA;AACA,MAAM,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACpC,MAAM,GAAG,GAAG,KAAK,SAAS,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;AAC7E,QAAQ,MAAM,IAAI,WAAW;AAC7B,UAAU,yBAAyB;AACnC,UAAU,CAAC,cAAc,EAAE,IAAI,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACvE,OAAO;AACP;AACA,MAAM,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;AAC9D,KAAK;AACL,IAAI,OAAO,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;AAC5C,GAAG;AACH;AACA,EAAE,YAAY,CAAC,CAAC,OAAO,EAAE,GAAG,CAAC,EAAE;AAC/B;AACA,IAAI,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;AACzD,IAAI,GAAG,IAAI,KAAK,SAAS,EAAE;AAC3B,MAAM,MAAM,IAAI,WAAW;AAC3B,QAAQ,4BAA4B;AACpC,QAAQ,CAAC,iBAAiB,EAAE,GAAG,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACvE,KAAK;AACL;AACA;AACA,IAAI,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAClC,IAAI,GAAG,GAAG,KAAK,SAAS,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;AAC3E,MAAM,MAAM,IAAI,WAAW;AAC3B,QAAQ,yBAAyB;AACjC,QAAQ,CAAC,cAAc,EAAE,IAAI,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACrE,KAAK;AACL;AACA,IAAI,OAAO,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;AAC5C,GAAG;AACH;AACA,EAAE,kBAAkB,CAAC,CAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,CAAC,EAAE;AAC7C,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AACtD,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC;AACnE,GAAG;AACH;AACA,EAAE,oBAAoB,CAAC,CAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,CAAC,EAAE;AAC/C,IAAI,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,QAAQ,CAAC;AACpC,IAAI,MAAM,MAAM,GAAG,MAAM,GAAG,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;AAC5C,IAAI,MAAM,OAAO,GAAG,EAAE,CAAC;AACvB,IAAI,IAAI,MAAM,KAAK,IAAI,MAAM,EAAE;AAC/B,MAAM,MAAM,OAAO,GAAG,gBAAgB,CAAC,aAAa;AACpD,QAAQ,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC;AACpC,MAAM,OAAO,CAAC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;AAC9D,KAAK;AACL,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAC9C,GAAG;AACH;AACA,EAAE,oBAAoB,CAAC,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC,EAAE;AACnD,IAAI,MAAM,YAAY,GAAG,aAAa,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACrD,IAAI,MAAM,OAAO,GAAG,YAAY,IAAI,YAAY,CAAC,aAAa;AAC9D,MAAM,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC;AAClC,IAAI,GAAG,OAAO,EAAE;AAChB,MAAM,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC5C,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,GAAG;AACH;AACA,EAAE,MAAM,eAAe,CAAC,CAAC,OAAO,EAAE,YAAY,EAAE,KAAK,CAAC,EAAE;AACxD;AACA,IAAI,MAAM,QAAQ,GAAG,EAAE,CAAC;AACxB,IAAI,IAAI,MAAM,YAAY,IAAI,KAAK,EAAE;AACrC,MAAM,MAAM,GAAG,GAAG,EAAE,CAAC;AACrB,MAAM,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACzB,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC,CAAC;AAC/D,KAAK;AACL,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC3B,GAAG;AACH;AACA,EAAE,MAAM,gBAAgB,CAAC,CAAC,OAAO,EAAE,YAAY,EAAE,KAAK,CAAC,EAAE;AACzD;AACA,IAAI,MAAM,KAAK,GAAG,EAAE,CAAC;AACrB,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACxB,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC,CAAC;AAC5E,GAAG;AACH;AACA,EAAE,cAAc,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,QAAQ,CAAC,EAAE;AAC3C,IAAI,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,QAAQ,CAAC;AACpC,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAC9C,GAAG;AACH,CAAC;AACD;AACA,SAAS,kBAAkB,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,EAAE;AACxD,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;AACxC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxSA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAe,MAAM,CAAC;AAC7B,EAAE,WAAW,EAAE,cAAc,EAAE,aAAa,GAAG,IAAI,GAAG,EAAE;AACxD,EAAE,mCAAmC,GAAG,KAAK,EAAE,QAAQ;AACvD,CAAC,EAAE;AACH,EAAE,GAAG,EAAE,WAAW,YAAY,UAAU,CAAC,EAAE;AAC3C,IAAI,MAAM,IAAI,SAAS,CAAC,qCAAqC,CAAC,CAAC;AAC/D,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE,IAAI,KAAK,GAAG,CAAC,CAAC;AAChB,EAAE,GAAG,WAAW,CAAC,KAAK,EAAE,CAAC,KAAK,IAAI,EAAE;AACpC,IAAI,MAAM,IAAI,WAAW;AACzB,MAAM,gBAAgB;AACtB,MAAM,mEAAmE,CAAC,CAAC;AAC3E,GAAG;AACH;AACA;AACA,EAAE,GAAG,WAAW,CAAC,KAAK,EAAE,CAAC,KAAK,IAAI,EAAE;AACpC,IAAI,MAAM,IAAI,WAAW;AACzB,MAAM,gBAAgB,EAAE,4CAA4C,CAAC,CAAC;AACtE,GAAG;AACH;AACA,EAAE,MAAM,eAAe,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;AAC7C,EAAE,GAAG,eAAe,KAAK,SAAS,EAAE;AACpC,IAAI,MAAM,IAAI,WAAW;AACzB,MAAM,gBAAgB,EAAE,+BAA+B,CAAC,CAAC;AACzD,GAAG;AACH;AACA,EAAE,GAAG,EAAE,eAAe,KAAK,CAAC,IAAI,eAAe,KAAK,CAAC,CAAC,EAAE;AACxD,IAAI,MAAM,IAAI,WAAW;AACzB,MAAM,gBAAgB;AACtB,MAAM,CAAC,sCAAsC,EAAE,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;AACpE,GAAG;AACH;AACA,EAAE,KAAK,EAAE,CAAC;AACV,EAAE,MAAM,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC,GAAG,WAAW,CAAC;AACnD,EAAE,MAAM,MAAM,GAAG,IAAI,UAAU,CAAC,MAAM,EAAE,UAAU,GAAG,KAAK,EAAE,MAAM,GAAG,KAAK,CAAC,CAAC;AAC5E;AACA;AACA,EAAE,GAAG,eAAe,KAAK,CAAC,EAAE;AAC5B,IAAI,OAAOC,gBAAK,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC;AAClD,GAAG;AACH;AACA;AACA,EAAE,MAAM,YAAY,GAAG,IAAI,YAAY;AACvC,IAAI,CAAC,cAAc,EAAE,aAAa,EAAE,mCAAmC,CAAC,CAAC,CAAC;AAC1E,EAAE,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC,UAAU;AAC9C,IAAI,CAAC,eAAe,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC;AACzC;AACA,EAAE,GAAG,QAAQ,EAAE;AACf,IAAI,QAAQ,CAAC,4BAA4B,CAAC,CAAC;AAC3C,IAAI,QAAQ,CAACC,iBAAO,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AAC3D,GAAG;AACH;AACA,EAAE,OAAO,MAAM,CAAC;AAChB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACO,MAAM,aAAa,CAAC;AAC3B,EAAE,MAAM,GAAG;AACX,IAAI,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;AAC7D,GAAG;AACH;AACA;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;AAC7D,GAAG;AACH;;ACZA;AACA;AACA;AAIA;AACO,MAAM,cAAc,SAAS,aAAa,CAAC;AAClD,EAAE,WAAW,CAAC,CAAC,OAAO,EAAE,aAAa,CAAC,GAAG,EAAE,EAAE;AAC7C,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AAC3B,IAAI,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;AACvC,GAAG;AACH;AACA,EAAE,MAAM,GAAG;AACX,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;AAC3B,IAAI,MAAM,EAAE,GAAG,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACzE,IAAI,GAAG,EAAE,KAAK,SAAS,EAAE;AACzB,MAAM,OAAO,IAAIC,WAAK,CAACC,UAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;AAC7C,KAAK;AACL,IAAI,OAAO,IAAID,WAAK,CAACC,UAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;AACpC,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,EAAE,WAAW,CAAC,GAAG,EAAE,EAAE;AAClD,IAAI,GAAG,OAAO,KAAK,KAAK,QAAQ,EAAE;AAClC,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL,IAAI,MAAM,CAAC,aAAa,CAAC,GAAG,WAAW,CAAC;AACxC,IAAI,OAAO,IAAI,cAAc,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC,CAAC;AAC/D,GAAG;AACH;;AC9BA;AACA;AACA;AAKA;AACA;AACA;AACO,MAAM,gBAAgB,SAAS,aAAa,CAAC;AACpD,EAAE,WAAW,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AAC5B,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACvB,GAAG;AACH;AACA,EAAE,MAAM,GAAG;AACX,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;AACzB;AACA,IAAI,IAAI,MAAM,CAAC;AACf,IAAI,IAAI,MAAM,CAAC;AACf,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;AACzB;AACA,MAAM,MAAM,GAAG,IAAI,CAAC;AACpB,MAAM,MAAM,GAAGC,sBAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,KAAK,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;AAChC;AACA,MAAM,MAAM,GAAG,IAAI,CAAC;AACpB,MAAM,MAAM,GAAGT,eAAM,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACpD,KAAK;AACL;AACA,IAAI,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;AACpD,IAAI,KAAK,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;AACtB,IAAI,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;AACzB,IAAI,OAAO,IAAIO,WAAK,CAACC,UAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AACxC,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,OAAO,KAAK,KAAK,QAAQ,EAAE;AAClC,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL;AACA;AACA;AACA,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;AAC7C,MAAM,OAAO,IAAI,gBAAgB,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAC3C,KAAK;AACL,GAAG;AACH;;AChDA;AACA;AACA;AAIA;AACA,MAAM,YAAY,GAAG,IAAI,GAAG,CAAC;AAC7B,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC;AACvB,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;AACpB,CAAC,CAAC,CAAC;AACH;AACO,MAAM,mBAAmB,SAAS,aAAa,CAAC;AACvD,EAAE,WAAW,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,EAAE,EAAE;AACpC,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACvB,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,GAAG;AACH;AACA,EAAE,MAAM,GAAG;AACX,IAAI,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC;AACjC,IAAI,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC/C,IAAI,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACpD,IAAI,MAAM,OAAO,GAAG;AACpB,MAAM,IAAID,WAAK,CAACC,UAAI,CAAC,IAAI,EAAE,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACpD,MAAM,mBAAmB,CAAC,SAAS,CAAC;AACpC,KAAK,CAAC;AACN,IAAI,GAAG,QAAQ,KAAK,SAAS,EAAE;AAC/B,MAAM,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClD,KAAK;AACL,IAAI,OAAO,CAAC,IAAID,WAAK,CAACC,UAAI,CAAC,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC;AAC5D,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,MAAM,IAAI,GAAG,CAAC,GAAG,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC;AAC1C,IAAI,IAAI,MAAM,GAAG,IAAI,IAAI,EAAE;AAC3B,MAAM,GAAG,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;AAChC,QAAQ,OAAO,IAAI,mBAAmB,CAAC,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC;AAC7D,OAAO;AACP,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA,SAAS,mBAAmB,CAAC,GAAG,EAAE;AAClC,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;AAC1B,IAAI,MAAM,OAAO,GAAGC,sBAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD,IAAI,GAAG,OAAO,EAAE;AAChB,MAAM,OAAO,IAAIF,WAAK,CAACC,UAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AAC5C,KAAK;AACL,GAAG;AACH;AACA,EAAE,OAAO,IAAID,WAAK,CAACC,UAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AACrC;;ACpDA;AACA;AACA;AAGA;AACO,MAAM,cAAc,SAAS,aAAa,CAAC;AAClD,EAAE,WAAW,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,EAAE,EAAE;AACpC,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACvB,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,GAAG;AACH;AACA,EAAE,MAAM,GAAG;AACX,IAAI,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC;AACjC,IAAI,MAAM,MAAM,GAAG,MAAM,GAAG,UAAU,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;AACjE,IAAI,MAAM,OAAO,GAAG;AACpB,MAAM,IAAID,WAAK,CAACC,UAAI,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;AAC1C,MAAM,IAAID,WAAK,CAACC,UAAI,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAClD,KAAK,CAAC;AACN,IAAI,OAAO,CAAC,IAAID,WAAK,CAACC,UAAI,CAAC,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC;AAC5D,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC;AACA,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;AACrC,MAAM,OAAO,IAAI,cAAc,CAAC,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;AACvD,KAAK;AACL,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;AACpC,MAAM,OAAO,IAAI,cAAc,CAAC,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;AACxD,KAAK;AACL,GAAG;AACH;;AChCA;AACA;AACA;AAIA;AACO,MAAM,cAAc,SAAS,aAAa,CAAC;AAClD,EAAE,WAAW,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AAC5B,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACvB,GAAG;AACH;AACA,EAAE,MAAM,GAAG;AACX,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;AACzB,IAAI,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAClD,IAAI,MAAM,OAAO,GAAG,CAAC,IAAID,WAAK,CAACC,UAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;AAC9C,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,KAAK,IAAI,EAAE;AACpC,MAAM,MAAM,SAAS,GAAGE,UAAK,CAAC,IAAI,CAAC,CAAC;AACpC,MAAM,OAAO,CAAC,IAAI,CAAC,IAAIH,WAAK,CAACC,UAAI,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;AACrD,KAAK,MAAM;AACX;AACA,MAAM,OAAO,CAAC,IAAI,CAAC,IAAID,WAAK,CAACC,UAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;AACjD,KAAK;AACL,IAAI,OAAO,CAAC,IAAID,WAAK,CAACC,UAAI,CAAC,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC;AAC5D,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE;AACtC,MAAM,OAAO,IAAI,cAAc,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AACzC,KAAK;AACL,GAAG;AACH;;AChCA;AACA;AACA;AAKA;AACA,MAAM,iBAAiB,GAAG,IAAI,GAAG,CAAC;AAClC,EAAE,CAAC,MAAM,EAAE,cAAc,CAAC;AAC1B,EAAE,CAAC,OAAO,EAAE,cAAc,CAAC;AAC3B,EAAE,CAAC,UAAU,EAAE,cAAc,CAAC;AAC9B,EAAE,CAAC,YAAY,EAAE,mBAAmB,CAAC;AACrC,EAAE,CAAC,SAAS,EAAE,mBAAmB,CAAC;AAClC,CAAC,CAAC,CAAC;AACH;AACO,MAAM,UAAU,SAAS,aAAa,CAAC;AAC9C,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,OAAO,KAAK,KAAK,QAAQ,EAAE;AAClC,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL;AACA;AACA,IAAI,IAAI,MAAM,CAAC;AACf,IAAI,IAAI;AACR;AACA,MAAM,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC;AAClD,MAAM,MAAM,GAAG,QAAQ,CAAC;AACxB,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AACjC,QAAQ,MAAM,IAAI,QAAQ,CAAC;AAC3B,OAAO;AACP,MAAM,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACrC,MAAM,KAAK,CAAC,GAAG,EAAE,CAAC;AAClB,MAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC/B,KAAK,CAAC,MAAM,CAAC,EAAE;AACf,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL;AACA,IAAI,MAAM,YAAY,GAAG,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACvD,IAAI,OAAO,YAAY,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAC/D,GAAG;AACH;;ACzCA;AACA;AACA;AAIA;AACO,MAAM,gBAAgB,SAAS,aAAa,CAAC;AACpD,EAAE,WAAW,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE;AAC7B,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,GAAG;AACH;AACA,EAAE,MAAM,GAAG;AACX,IAAI,OAAO,IAAID,WAAK,CAACC,UAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;AAC7C,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,EAAE,WAAW,CAAC,GAAG,EAAE,EAAE;AAClD,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,CAAC;AACnC,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACvC,IAAI,GAAG,MAAM,KAAK,SAAS,EAAE;AAC7B,MAAM,OAAO,IAAI,gBAAgB,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAC5C,KAAK;AACL,IAAI,OAAO,UAAU,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAC7C,GAAG;AACH;;ACzBA;AACA;AACA;AAGA;AACO,MAAM,cAAc,SAAS,aAAa,CAAC;AAClD,EAAE,WAAW,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,EAAE,EAAE;AACpC,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACvB,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,GAAG;AACH;AACA,EAAE,MAAM,GAAG;AACX,IAAI,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC;AACjC,IAAI,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC;AACxD,IAAI,MAAM,UAAU,GAAG,IAAI,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;AACxE,IAAI,MAAM,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;AAC1E,IAAI,GAAG,KAAK,KAAK,YAAY,EAAE;AAC/B;AACA,MAAM,OAAO,IAAID,WAAK,CAACC,UAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AAC3C,KAAK;AACL,IAAI,OAAO,IAAID,WAAK,CAACC,UAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;AACnD,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AAC5B;AACA,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACrC,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,EAAE;AACtB;AACA,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL;AACA,IAAI,OAAO,IAAI,cAAc,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;AAC/C,GAAG;AACH;;ACtCA;AACA;AACA;AAGA;AACO,MAAM,kBAAkB,SAAS,aAAa,CAAC;AACtD,EAAE,WAAW,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,EAAE,EAAE;AACpC,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACvB,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,GAAG;AACH;AACA,EAAE,MAAM,GAAG;AACX,IAAI,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC;AACjC,IAAI,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC;AACxD,IAAI,MAAM,YAAY,GAAG,IAAID,WAAK,CAACC,UAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;AACjE,IAAI,MAAM,gBAAgB,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AAChD,IAAI,GAAG,gBAAgB,KAAK,CAAC,CAAC,EAAE;AAChC,MAAM,MAAM,YAAY,GAAG,IAAI,IAAI;AACnC,QAAQ,iBAAiB,GAAG,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;AACtE,MAAM,GAAG,KAAK,KAAK,YAAY,EAAE;AACjC;AACA,QAAQ,OAAO,IAAID,WAAK,CAACC,UAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AAC7C,OAAO;AACP;AACA,MAAM,OAAO,YAAY,CAAC;AAC1B,KAAK;AACL;AACA,IAAI,MAAM,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AAC1E,IAAI,MAAM,YAAY,GAAG,IAAI,IAAI;AACjC,MAAM,iBAAiB,GAAG,IAAI,GAAG,YAAY,CAAC,CAAC,WAAW,EAAE,CAAC;AAC7D,IAAI,GAAG,KAAK,KAAK,YAAY,EAAE;AAC/B;AACA,MAAM,OAAO,IAAID,WAAK,CAACC,UAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AAC3C,KAAK;AACL;AACA;AACA,IAAI,MAAM,OAAO,GAAG;AACpB,MAAM,YAAY;AAClB,MAAM,IAAID,WAAK,CAACC,UAAI,CAAC,IAAI,EAAE,YAAY,CAAC;AACxC,KAAK,CAAC;AACN,IAAI,OAAO,CAAC,IAAID,WAAK,CAACC,UAAI,CAAC,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC;AAC5D,GAAG;AACH;AACA,EAAE,OAAO,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE;AACrC,IAAI,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AAC7B;AACA,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACrC,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,EAAE;AACtB;AACA,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL;AACA,IAAI,OAAO,IAAI,kBAAkB,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;AACnD,GAAG;AACH;;AC1DA;AACA;AACA;AAaA;AACO,MAAM,aAAa,GAAG,IAAI,GAAG,CAAC;AACrC,EAAE,CAAC,KAAK,EAAE,UAAU,CAAC;AACrB,EAAE,CAAC,QAAQ,EAAE,gBAAgB,CAAC;AAC9B,EAAE,CAAC,qCAAqC,EAAE,gBAAgB,CAAC;AAC3D,EAAE,CAAC,uCAAuC,EAAE,cAAc,CAAC;AAC3D,EAAE,CAAC,2CAA2C,EAAE,kBAAkB,CAAC;AACnE,CAAC,CAAC,CAAC;AACH;AACA,MAAM,eAAe,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AACjD,MAAM,sBAAsB,GAAG,eAAe,GAAG,CAAC,CAAC;AACnD;AACA;AACA,MAAM,YAAY,GAAG;AACrB,EAAE,MAAM,CAAC,GAAG,EAAE;AACd,IAAI,GAAG,GAAG,YAAY,aAAa,EAAE;AACrC,MAAM,OAAO,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/B,KAAK;AACL,GAAG;AACH,CAAC,CAAC;AACF;AACO,MAAM,UAAU,SAAS,WAAW,CAAC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,CAAC,cAAc,EAAE,aAAa;AAC5C,IAAI,mCAAmC,CAAC,GAAG,EAAE,EAAE;AAC/C,IAAI,KAAK,CAAC,CAAC,cAAc,EAAE,aAAa,EAAE,mCAAmC,CAAC,CAAC,CAAC;AAChF,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,QAAQ,CAAC,CAAC,cAAc,EAAE,QAAQ,CAAC,GAAG,EAAE,EAAE;AAClD,IAAI,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;AAC5E,IAAI,GAAG,QAAQ,EAAE;AACjB,MAAM,QAAQ,CAAC,kDAAkD,CAAC,CAAC;AACnE,MAAM,QAAQ,CAACF,iBAAO,CAAC,aAAa,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACpE,KAAK;AACL,IAAI,OAAOD,gBAAK,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;AACvD,GAAG;AACH;AACA,EAAE,MAAM,oBAAoB,CAAC,CAAC,cAAc,CAAC,EAAE;AAC/C;AACA,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,GAAG,EAAE,CAAC;AAChC,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtC,IAAI,IAAI,CAAC,UAAU,GAAG,oBAAoB,CAAC;AAC3C;AACA;AACA,IAAI,MAAM,aAAa,GAAG,EAAE,CAAC;AAC7B,IAAI,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;AAClD,IAAI,MAAM,IAAI,GAAG,OAAO,GAAG,cAAc,GAAG,CAAC,cAAc,CAAC,CAAC;AAC7D,IAAI,IAAI,MAAM,GAAG,IAAI,IAAI,EAAE;AAC3B,MAAM,MAAM,YAAY,GAAG,IAAI,GAAG,EAAE,CAAC;AACrC,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC;AACjD,MAAM,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AACvC,KAAK;AACL;AACA,IAAI,OAAO,OAAO,GAAG,aAAa,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;AACtD,GAAG;AACH;AACA,EAAE,oBAAoB,CAAC,CAAC,GAAG,EAAE,YAAY,CAAC,EAAE;AAC5C;AACA,IAAI,MAAM,OAAO,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC;AACpC,IAAI,GAAG,CAAC,OAAO,EAAE;AACjB,MAAM,OAAO;AACb,KAAK;AACL;AACA,IAAI,MAAM,OAAO,GAAG,EAAE,CAAC;AACvB,IAAI,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC3C,IAAI,MAAM,QAAQ,GAAG,OAAO,GAAG,OAAO,GAAG,CAAC,OAAO,CAAC,CAAC;AACnD,IAAI,IAAI,MAAM,KAAK,IAAI,QAAQ,EAAE;AACjC,MAAM,MAAM,OAAO,GAAG,cAAc,CAAC,aAAa;AAClD,QAAQ,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC;AACpC,MAAM,OAAO,CAAC,IAAI,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC;AACrC,KAAK;AACL,IAAI,MAAM,EAAE,GAAG,OAAO,GAAG,sBAAsB,GAAG,eAAe,CAAC;AAClE,IAAI,YAAY,CAAC,GAAG,CAAC,EAAE,EAAE,OAAO,GAAG,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACzD,GAAG;AACH;AACA,EAAE,WAAW,CAAC,CAAC,GAAG,EAAE,OAAO,CAAC,EAAE;AAC9B;AACA;AACA,IAAI,MAAM,OAAO,GAAG,EAAE,CAAC;AACvB,IAAI,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;AACzC,IAAI,IAAI,MAAM,GAAG,IAAI,IAAI,EAAE;AAC3B;AACA,MAAM,GAAG,GAAG,KAAK,UAAU,EAAE;AAC7B,QAAQ,SAAS;AACjB,OAAO;AACP;AACA;AACA,MAAM,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACnC,MAAM;AACN,QAAQ,GAAG,KAAK,SAAS;AACzB,QAAQ,EAAE,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACnD,QAAQ,CAAC,IAAI,CAAC,mCAAmC;AACjD,QAAQ;AACR,QAAQ,MAAM,IAAI,WAAW;AAC7B,UAAU,yBAAyB;AACnC,UAAU,CAAC,cAAc,EAAE,GAAG,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACtE,OAAO;AACP;AACA,MAAM,MAAM,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AAC7B,MAAM,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;AAC1C,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC;AAC7D,MAAM,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;AAC9D,KAAK;AACL,IAAI,OAAO,OAAO,CAAC;AACnB,GAAG;AACH;AACA,EAAE,kBAAkB,CAAC,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,EAAE;AACtD,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC;AAC9B,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,aAAa;AAC5C,MAAM,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC5C,IAAI,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,IAAI,KAAK,CAAC,CAAC;AAC/C,GAAG;AACH;AACA,EAAE,oBAAoB,CAAC,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,EAAE;AACxD,IAAI,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,GAAG,QAAQ,CAAC;AACtC,IAAI,MAAM,MAAM,GAAG,MAAM,GAAG,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;AAC5C,IAAI,MAAM,OAAO,GAAG,EAAE,CAAC;AACvB,IAAI,IAAI,MAAM,KAAK,IAAI,MAAM,EAAE;AAC/B,MAAM,MAAM,OAAO,GAAG,gBAAgB,CAAC,aAAa;AACpD,QAAQ,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC9C,MAAM,OAAO,CAAC,IAAI,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC;AACrC,KAAK;AACL,IAAI,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5D,GAAG;AACH;AACA,EAAE,oBAAoB,CAAC,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC,EAAE;AAC7D,IAAI,MAAM,YAAY,GAAG,aAAa,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACrD,IAAI,MAAM,OAAO,GAAG,YAAY,IAAI,YAAY,CAAC,aAAa;AAC9D,MAAM,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC5C,IAAI,GAAG,OAAO,EAAE;AAChB,MAAM,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC5B,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,GAAG;AACH;AACA,EAAE,MAAM,eAAe,CAAC,CAAC,OAAO,EAAE,YAAY,EAAE,KAAK,CAAC,EAAE;AACxD;AACA,IAAI,MAAM,QAAQ,GAAG,EAAE,CAAC;AACxB,IAAI,IAAI,MAAM,GAAG,IAAI,KAAK,EAAE;AAC5B,MAAM,MAAM,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;AACjC,MAAM,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC9B,MAAM,MAAM,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,YAAY,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC,CAAC;AACzE,KAAK;AACL,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC3B,GAAG;AACH;AACA,EAAE,MAAM,gBAAgB,CAAC,CAAC,OAAO,EAAE,YAAY,EAAE,KAAK,CAAC,EAAE;AACzD;AACA,IAAI,MAAM,YAAY,GAAG,IAAI,GAAG,EAAE,CAAC;AACnC,IAAI,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AAC/B,IAAI,MAAM,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC,CAAC;AACpE,GAAG;AACH;AACA,EAAE,cAAc,CAAC,CAAC,OAAO,EAAE,YAAY,EAAE,QAAQ,CAAC,EAAE;AACpD,IAAI,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,GAAG,QAAQ,CAAC;AACtC,IAAI,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzNA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAe,MAAM,CAAC;AAC7B,EAAE,cAAc,EAAE,cAAc,EAAE,aAAa,GAAG,IAAI,GAAG,EAAE;AAC3D,EAAE,mCAAmC,GAAG,KAAK,EAAE,eAAe,GAAG,CAAC,EAAE,QAAQ;AAC5E,CAAC,GAAG,EAAE,EAAE;AACR,EAAE,GAAG,EAAE,eAAe,KAAK,CAAC,IAAI,eAAe,KAAK,CAAC,CAAC,EAAE;AACxD,IAAI,MAAM,IAAI,SAAS;AACvB,MAAM,wDAAwD;AAC9D,MAAM,iCAAiC,CAAC,CAAC;AACzC,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,MAAM,GAAG,IAAI,UAAU,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,eAAe,CAAC,CAAC,CAAC;AAC/D,EAAE,IAAI,MAAM,CAAC;AACb;AACA,EAAE,GAAG,eAAe,KAAK,CAAC,EAAE;AAC5B;AACA,IAAI,MAAM,GAAGA,gBAAK,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;AAC1C,GAAG,MAAM;AACT;AACA,IAAI,MAAM,UAAU,GAAG,IAAI,UAAU;AACrC,MAAM,CAAC,cAAc,EAAE,aAAa,EAAE,mCAAmC,CAAC,CAAC,CAAC;AAC5E,IAAI,MAAM,GAAG,MAAM,UAAU,CAAC,QAAQ,CAAC,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC,CAAC;AACnE,GAAG;AACH;AACA;AACA,EAAE,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AAC/C,EAAE,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC;AACvC,EAAE,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACpB,EAAE,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;AACnC;AACA,EAAE,GAAG,QAAQ,EAAE;AACf,IAAI,QAAQ,CAAC,4BAA4B,CAAC,CAAC;AAC3C,IAAI,QAAQ,CAACC,iBAAO,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AAC1D,GAAG;AACH;AACA,EAAE,OAAO,KAAK,CAAC;AACf,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;"}